"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8360],{6743:(e,t,a)=>{a.d(t,{Bc:()=>s,ZI:()=>d,k$:()=>o,m_:()=>i});var r=a(86286);a(50654);var n=a(26450),l=a(18821);function s(e){let{delayDuration:t=0,...a}=e;return(0,r.jsx)(n.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...a})}function i(e){let{...t}=e;return(0,r.jsx)(s,{children:(0,r.jsx)(n.bL,{"data-slot":"tooltip",...t})})}function o(e){let{...t}=e;return(0,r.jsx)(n.l9,{"data-slot":"tooltip-trigger",...t})}function d(e){let{className:t,sideOffset:a=0,children:s,...i}=e;return(0,r.jsx)(n.ZL,{children:(0,r.jsxs)(n.UC,{"data-slot":"tooltip-content",sideOffset:a,className:(0,l.cn)("bg-primary text-primary-foreground z-[1000] w-fit rounded-md px-3 py-1.5 text-xs text-balance",t),...i,children:[s,(0,r.jsx)(n.i3,{className:"bg-primary fill-primary z-[1000] size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}},21669:(e,t,a)=>{a.d(t,{AM:()=>s,Wv:()=>i,hl:()=>o});var r=a(86286);a(50654);var n=a(5389),l=a(18821);function s(e){let{...t}=e;return(0,r.jsx)(n.bL,{"data-slot":"popover",...t})}function i(e){let{...t}=e;return(0,r.jsx)(n.l9,{"data-slot":"popover-trigger",...t})}function o(e){let{className:t,align:a="center",sideOffset:s=4,...i}=e;return(0,r.jsx)(n.ZL,{children:(0,r.jsx)(n.UC,{"data-slot":"popover-content",align:a,sideOffset:s,className:(0,l.cn)("bg-popover text-popover-foreground z-50 w-72 rounded-md border p-4 shadow-md outline-hidden",t),...i})})}},27412:(e,t,a)=>{a.d(t,{C5:()=>j,MJ:()=>g,Rr:()=>f,eI:()=>p,lR:()=>h,lV:()=>d,zB:()=>m});var r=a(86286),n=a(50654),l=a(82702),s=a(58074),i=a(18821),o=a(41188);let d=s.Op,c=n.createContext(null),m=e=>{let{...t}=e;return(0,r.jsx)(c.Provider,{value:{name:t.name},children:(0,r.jsx)(s.xI,{...t})})},u=()=>{let e,t,a,r;let l=n.useContext(c),i=n.useContext(x);if(!l)throw Error("useFormField should be used within <FormField>");if(!i)throw Error("useFormField should be used within <FormItem>");if(!l.name)throw Error("fieldContext.name is required");try{if(!(e=(0,s.xW)())||"function"!=typeof e.getFieldState)throw Error("useFormField should be used within <FormProvider>");t=e.getFieldState,a=(0,s.lN)({name:l.name}),r=t(l.name,a)}catch(e){throw Error("Form context error: ".concat(e instanceof Error?e.message:"Unknown error"))}let{id:o}=i;return{id:o,name:l.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...r}},x=n.createContext({});function p(e){let{className:t,...a}=e,l=n.useId();return(0,r.jsx)(x.Provider,{value:{id:l},children:(0,r.jsx)("div",{"data-slot":"form-item",className:(0,i.cn)("grid gap-2",t),...a})})}function h(e){let{className:t,...a}=e,{error:n,formItemId:l}=u();return(0,r.jsx)(o.J,{"data-slot":"form-label","data-error":!!n,className:(0,i.cn)("data-[error=true]:text-destructive",t),htmlFor:l,...a})}function g(e){let{...t}=e,{error:a,formItemId:n,formDescriptionId:s,formMessageId:i}=u();return(0,r.jsx)(l.DX,{"data-slot":"form-control",id:n,"aria-describedby":a?"".concat(s," ").concat(i):"".concat(s),"aria-invalid":!!a,...t})}function f(e){let{className:t,...a}=e,{formDescriptionId:n}=u();return(0,r.jsx)("p",{"data-slot":"form-description",id:n,className:(0,i.cn)("text-muted-foreground text-sm",t),...a})}function j(e){var t;let{className:a,...n}=e,{error:l,formMessageId:s}=u(),o=l?String(null!==(t=null==l?void 0:l.message)&&void 0!==t?t:""):n.children;return o?(0,r.jsx)("p",{"data-slot":"form-message",id:s,className:(0,i.cn)("text-destructive text-sm",a),...n,children:o}):null}},33285:(e,t,a)=>{a.d(t,{$:()=>ea});var r=a(86286),n=a(50654),l=a(58074),s=a(33664),i=a(4452),o=a(37942),d=a(27484),c=a(71751),m=a(99426),u=a(30334),x=a(41188),p=a(27412),h=a(21669),g=a(40773),f=a(96020),j=a(94653),v=a(86597),y=a(69948),b=a(57385),N=a(36883),w=a(51159),k=a(94187),A=a(51997),_=a(59134),D=a(18821),S=a(6743);function z(){let e=(0,g._)(["rtl:**:[.rdp-button_next>svg]:rotate-180"],["rtl:**:[.rdp-button\\_next>svg]:rotate-180"]);return z=function(){return e},e}function M(){let e=(0,g._)(["rtl:**:[.rdp-button_previous>svg]:rotate-180"],["rtl:**:[.rdp-button\\_previous>svg]:rotate-180"]);return M=function(){return e},e}let E=n.createContext(null),C=n.createContext(null);function T(e){let{className:t,classNames:a,showOutsideDays:n=!0,captionLayout:l="label",buttonVariant:s="ghost",formatters:i,components:d,markersMap:c,eventsMap:m,...u}=e,x=(0,A.a)();return(0,r.jsx)(E.Provider,{value:c||null,children:(0,r.jsx)(C.Provider,{value:m||null,children:(0,r.jsx)(_.h,{showOutsideDays:n,className:(0,D.cn)("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw(z()),String.raw(M()),t),captionLayout:l,formatters:{formatMonthDropdown:e=>e.toLocaleString("default",{month:"short"}),...i},classNames:{root:(0,D.cn)("w-fit",x.root),months:(0,D.cn)("flex gap-4 flex-col md:flex-row relative",x.months),month:(0,D.cn)("flex flex-col w-full gap-4",x.month),nav:(0,D.cn)("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",x.nav),button_previous:(0,D.cn)((0,o.r)({variant:s}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",x.button_previous),button_next:(0,D.cn)((0,o.r)({variant:s}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",x.button_next),month_caption:(0,D.cn)("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",x.month_caption),dropdowns:(0,D.cn)("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",x.dropdowns),dropdown_root:(0,D.cn)("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",x.dropdown_root),dropdown:(0,D.cn)("absolute bg-popover inset-0 opacity-0",x.dropdown),caption_label:(0,D.cn)("select-none font-medium","label"===l?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",x.caption_label),table:"w-full border-collapse",weekdays:(0,D.cn)("flex",x.weekdays),weekday:(0,D.cn)("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",x.weekday),week:(0,D.cn)("flex w-full mt-2",x.week),week_number_header:(0,D.cn)("select-none w-(--cell-size)",x.week_number_header),week_number:(0,D.cn)("text-[0.8rem] select-none text-muted-foreground",x.week_number),day:(0,D.cn)("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",x.day),range_start:(0,D.cn)("rounded-l-md bg-accent",x.range_start),range_middle:(0,D.cn)("rounded-none",x.range_middle),range_end:(0,D.cn)("rounded-r-md bg-accent",x.range_end),today:(0,D.cn)("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",x.today),outside:(0,D.cn)("text-muted-foreground aria-selected:text-muted-foreground",x.outside),disabled:(0,D.cn)("text-muted-foreground opacity-50",x.disabled),hidden:(0,D.cn)("invisible",x.hidden),...a},components:{Root:e=>{let{className:t,rootRef:a,...n}=e;return(0,r.jsx)("div",{"data-slot":"calendar",ref:a,className:(0,D.cn)(t),...n})},Chevron:e=>{let{className:t,orientation:a,...n}=e;return"left"===a?(0,r.jsx)(f.A,{className:(0,D.cn)("size-4",t),...n}):"right"===a?(0,r.jsx)(j.A,{className:(0,D.cn)("size-4",t),...n}):(0,r.jsx)(v.A,{className:(0,D.cn)("size-4",t),...n})},DayButton:I,WeekNumber:e=>{let{children:t,...a}=e;return(0,r.jsx)("td",{...a,children:(0,r.jsx)("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:t})})},...d},...u})})})}function I(e){var t,a,l;let s;let{className:i,day:d,modifiers:c,...m}=e,u=(0,A.a)(),x=n.useContext(E),p=n.useRef(null);n.useEffect(()=>{var e;c.focused&&(null===(e=p.current)||void 0===e||e.focus())},[c.focused]);let h=[],g=(s=d.date,"".concat(s.getFullYear(),"-").concat(String(s.getMonth()+1).padStart(2,"0"),"-").concat(String(s.getDate()).padStart(2,"0"))),f=n.useContext(C),j=null!==(a=null==x?void 0:x[g])&&void 0!==a?a:null==f?void 0:null===(t=f[g])||void 0===t?void 0:t.map(e=>e.type),v=e=>Array.isArray(j)&&j.includes(e)||c[e];v("expense")&&h.push({color:"var(--destructive)",key:"expense"}),v("income")&&h.push({color:"var(--chart-2)",key:"income"}),v("payment")&&h.push({color:"var(--chart-4)",key:"payment"}),v("card-statement")&&h.push({color:"var(--chart-5)",key:"card-statement"}),v("card-due")&&h.push({color:"var(--chart-1)",key:"card-due"});let _=null!==(l=null==f?void 0:f[g])&&void 0!==l?l:h.map(e=>({type:e.key,description:void 0})),z=n.useMemo(()=>{var e,t,a,r,n;if(!(null==_?void 0:_.length))return"Bu g\xfcnde işlem yok";let l={};for(let e of _)l[e.type]||(l[e.type]=[]),l[e.type].push(e);if(null===(e=l.payment)||void 0===e?void 0:e.length){let e=(l.payment[0].description||"").split("•")[0].trim();if(e)return"".concat(e," \xf6demen var");let t=l.payment.length;return 1===t?"\xd6demen var":"".concat(t," \xf6demen var")}return(null===(t=l["card-due"])||void 0===t?void 0:t.length)?"Son \xf6deme g\xfcn\xfcn":(null===(a=l["card-statement"])||void 0===a?void 0:a.length)?"Ekstre kesim g\xfcn\xfcn":(null===(r=l.expense)||void 0===r?void 0:r.length)?1===l.expense.length?"Giderin var":"".concat(l.expense.length," giderin var"):(null===(n=l.income)||void 0===n?void 0:n.length)?1===l.income.length?"Gelirin var":"".concat(l.income.length," gelirin var"):"Bu g\xfcnde işlemler var"},[_]),M=(0,r.jsxs)(o.$,{ref:p,variant:"ghost",size:"icon","data-day":d.date.toLocaleDateString(),"data-selected-single":c.selected&&!c.range_start&&!c.range_end&&!c.range_middle,"data-range-start":c.range_start,"data-range-end":c.range_end,"data-range-middle":c.range_middle,className:(0,D.cn)("relative data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",u.day,i),title:z,...m,children:[(0,r.jsx)("span",{className:"relative z-[1]",children:m.children}),h.length>0&&(0,r.jsxs)("div",{className:"pointer-events-none absolute inset-x-1 z-10",children:[h.length>1?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"absolute left-0 right-0 top-1 h-[3px] rounded",style:{background:h[0].color}}),(0,r.jsx)("div",{className:"absolute left-0 right-0 bottom-1 h-[3px] rounded",style:{background:2===h.length?h[1].color:"linear-gradient(to right, ".concat(h.slice(1).map(e=>e.color).join(","),")")}})]}):(0,r.jsx)("div",{className:"absolute left-0 right-0 bottom-1 h-[4px] rounded",style:{background:h[0].color}}),(0,r.jsx)("div",{className:"absolute top-1 right-1 w-2 h-2 rounded-full",style:{background:h[0].color}})]})]});return 0===h.length?M:(0,r.jsxs)(S.m_,{children:[(0,r.jsx)(S.k$,{asChild:!0,children:M}),(0,r.jsx)(S.ZI,{sideOffset:8,className:"px-2 py-1",children:(0,r.jsxs)("div",{className:"flex flex-col gap-1.5 max-w-[240px]",children:[(0,r.jsx)("div",{className:"text-[11px] font-medium",children:z}),_.slice(0,5).map((e,t)=>{let a="expense"===e.type?y.A:"income"===e.type?b.A:"payment"===e.type?N.A:"card-statement"===e.type?w.A:"card-due"===e.type?k.A:null,n="expense"===e.type?"var(--destructive)":"income"===e.type?"var(--chart-2)":"payment"===e.type?"var(--chart-4)":"card-statement"===e.type?"var(--chart-5)":"card-due"===e.type?"var(--chart-1)":"inherit",l="expense"===e.type?"Gider":"income"===e.type?"Gelir":"payment"===e.type?"\xd6deme":"card-statement"===e.type?"Ekstre":"card-due"===e.type?"Son \xd6deme":e.type;return(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[a?(0,r.jsx)(a,{className:"size-3.5",style:{color:n}}):(0,r.jsx)("span",{className:"size-3.5"}),(0,r.jsx)("span",{className:"truncate text-xs",title:e.description||l,children:e.description||l})]},t)}),(null==f?void 0:f[g])&&f[g].length>5&&(0,r.jsxs)("div",{className:"text-[10px] opacity-80",children:["+",f[g].length-5," daha"]})]})})]})}var B=a(74869),O=a(21110),F=a(39584),R=a(78014),P=a(1540),G=a(37225),W=a(27667),$=a(24749),Z=a(57416),Y=a(29995),J=a(77857),L=a(4268),V=a(48427),U=a(48738),q=a(32132),K=a(21301),H=a(25914),X=a(32017),Q=a(38170);let ee=i.Ik({name:i.Yj().min(1,"Abonelik adı gerekli."),price:i.au.number().positive("Fiyat pozitif bir sayı olmalı."),nextBillingDate:i.p6({required_error:"Fatura tarihi gerekli."}),cancellationReminderDate:i.p6().optional()}),et={entertainment:{label:"Eğlence",icon:B.A,color:"purple",examples:["Netflix","Disney+","Amazon Prime","YouTube Premium"]},music:{label:"M\xfczik",icon:O.A,color:"green",examples:["Spotify","Apple Music","Fizy","Muud"]},technology:{label:"Teknoloji",icon:F.A,color:"blue",examples:["iCloud","Google One","Dropbox","Adobe"]},utilities:{label:"Altyapı",icon:R.A,color:"yellow",examples:["İnternet","Elektrik","Su","Doğalgaz"]},transportation:{label:"Ulaşım",icon:P.A,color:"orange",examples:["Uber","BiTaksi","Metro Kart"]},gaming:{label:"Oyun",icon:G.A,color:"red",examples:["PlayStation Plus","Xbox Game Pass","Steam"]},other:{label:"Diğer",icon:W.A,color:"gray",examples:["Gym","Insurance","VPN"]}};function ea(e){var t;let{open:a,onOpenChange:i}=e,[g,f]=(0,n.useState)([]),[j,v]=(0,n.useState)(null),[y,b]=(0,n.useState)(""),w=(null===X.auth||void 0===X.auth?void 0:null===(t=X.auth.currentUser)||void 0===t?void 0:t.uid)||"",[k,A]=(0,n.useState)([]),_=(0,l.mN)({resolver:(0,s.u)(ee),defaultValues:{name:"",price:0}});(0,n.useEffect)(()=>{if(!w||!a)return;let e=(0,Q.Am)(w,f);return(0,Q.gN)(w).then(e=>A(e.map(e=>({id:e.id,name:e.nickname||e.bankName,bankName:e.bankName})))),()=>null==e?void 0:e()},[w,a]),(0,n.useEffect)(()=>{j?(_.reset({name:j.name,price:j.price,nextBillingDate:new Date(j.nextBillingDate),cancellationReminderDate:j.cancellationReminderDate?new Date(j.cancellationReminderDate):void 0}),b(j.category||"")):(_.reset({name:"",price:0,nextBillingDate:new Date}),b(""))},[j,_]);let S={totalMonthly:g.reduce((e,t)=>e+t.price,0),totalYearly:g.reduce((e,t)=>e+12*t.price,0),avgPerSub:g.length>0?g.reduce((e,t)=>e+t.price,0)/g.length:0,dueThisWeek:g.filter(e=>{let t=new Date(e.nextBillingDate),a=new Date;return a.setDate(a.getDate()+7),t<=a}).length},z=async e=>{var t,a;if(!w)return;let r=(null===(t=document.getElementById("subscription-card-select"))||void 0===t?void 0:t.value)||void 0,n={...e,nextBillingDate:e.nextBillingDate.toISOString(),cancellationReminderDate:null===(a=e.cancellationReminderDate)||void 0===a?void 0:a.toISOString(),category:y,cardId:r};await (0,Q.Zl)(w,{id:null==j?void 0:j.id,...n}),v(null),b(""),_.reset({name:"",price:0,nextBillingDate:new Date,cancellationReminderDate:void 0})},M=async e=>{w&&confirm("Bu aboneliği silmek istediğinizden emin misiniz?")&&await (0,Q.a_)(w,e)},E=(e,t)=>{_.setValue("name",e),_.setValue("price",t)};return(0,r.jsx)(m.lG,{open:a,onOpenChange:i,children:(0,r.jsxs)(m.Cf,{className:"sm:max-w-6xl max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)(m.c7,{children:[(0,r.jsxs)(m.L3,{className:"flex items-center gap-2",children:[(0,r.jsx)(N.A,{className:"h-5 w-5 text-primary"}),"Abonelik Y\xf6netimi"]}),(0,r.jsx)(m.rr,{children:"Aylık yinelenen aboneliklerinizi y\xf6netin ve harcamalarınızı takip edin."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,r.jsx)(d.Zp,{className:"bg-gradient-to-br from-primary/10 to-primary/5 border-primary/20",children:(0,r.jsx)(d.Wu,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-primary/20 rounded-lg",children:(0,r.jsx)($.A,{className:"h-5 w-5 text-primary"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Aylık Toplam"}),(0,r.jsx)("p",{className:"text-xl font-bold",children:(0,D.tn)(S.totalMonthly)})]})]})})}),(0,r.jsx)(d.Zp,{className:"bg-gradient-to-br from-green-500/10 to-green-500/5 border-green-500/20",children:(0,r.jsx)(d.Wu,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-green-500/20 rounded-lg",children:(0,r.jsx)(Z.A,{className:"h-5 w-5 text-green-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Yıllık Toplam"}),(0,r.jsx)("p",{className:"text-xl font-bold",children:(0,D.tn)(S.totalYearly)})]})]})})}),(0,r.jsx)(d.Zp,{className:"bg-gradient-to-br from-orange-500/10 to-orange-500/5 border-orange-500/20",children:(0,r.jsx)(d.Wu,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-orange-500/20 rounded-lg",children:(0,r.jsx)(Y.A,{className:"h-5 w-5 text-orange-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Bu Hafta"}),(0,r.jsx)("p",{className:"text-xl font-bold",children:S.dueThisWeek})]})]})})}),(0,r.jsx)(d.Zp,{className:"bg-gradient-to-br from-purple-500/10 to-purple-500/5 border-purple-500/20",children:(0,r.jsx)(d.Wu,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:(0,r.jsx)(W.A,{className:"h-5 w-5 text-purple-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Toplam Abonelik"}),(0,r.jsx)("p",{className:"text-xl font-bold",children:g.length})]})]})})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:j?"Aboneliği D\xfczenle":"Yeni Abonelik Ekle"}),j&&(0,r.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>{v(null),b(""),_.reset({name:"",price:0,nextBillingDate:new Date,cancellationReminderDate:void 0})},children:"İptal"})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(x.J,{children:"Kategori Se\xe7in"}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(et).map(e=>{let[t,a]=e,n=a.icon;return(0,r.jsxs)(o.$,{variant:y===t?"default":"outline",size:"sm",onClick:()=>b(t),className:"justify-start h-auto p-3",children:[(0,r.jsx)(n,{className:"h-4 w-4 mr-2"}),a.label]},t)})})]}),y&&(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(x.J,{children:"Pop\xfcler Se\xe7enekler"}),(0,r.jsx)("div",{className:"grid grid-cols-1 gap-2",children:et[y].examples.map((e,t)=>(0,r.jsx)(o.$,{variant:"ghost",size:"sm",onClick:()=>E(e,0),className:"justify-start text-left",children:e},t))})]}),(0,r.jsx)(p.lV,{..._,children:(0,r.jsxs)("form",{onSubmit:_.handleSubmit(z),className:"space-y-4",children:[(0,r.jsx)(p.zB,{control:_.control,name:"name",render:e=>{let{field:t}=e;return(0,r.jsxs)(p.eI,{children:[(0,r.jsx)(p.lR,{children:"Abonelik Adı"}),(0,r.jsx)(p.MJ,{children:(0,r.jsx)(u.p,{placeholder:"\xf6rn: Netflix Premium",...t})}),(0,r.jsx)(p.C5,{})]})}}),(0,r.jsx)(p.zB,{control:_.control,name:"price",render:e=>{let{field:t}=e;return(0,r.jsxs)(p.eI,{children:[(0,r.jsx)(p.lR,{children:"Aylık \xdccret (₺)"}),(0,r.jsx)(p.MJ,{children:(0,r.jsx)(u.p,{type:"number",step:"0.01",placeholder:"0.00",...t})}),(0,r.jsx)(p.C5,{})]})}}),(0,r.jsx)(p.zB,{control:_.control,name:"nextBillingDate",render:e=>{let{field:t}=e;return(0,r.jsxs)(p.eI,{className:"flex flex-col",children:[(0,r.jsx)(p.lR,{children:"Sonraki Fatura Tarihi"}),(0,r.jsxs)(h.AM,{children:[(0,r.jsx)(h.Wv,{asChild:!0,children:(0,r.jsx)(p.MJ,{children:(0,r.jsxs)(o.$,{variant:"outline",className:(0,D.cn)("w-full pl-3 text-left font-normal",!t.value&&"text-muted-foreground"),children:[t.value?(0,K.GP)(t.value,"dd MMMM yyyy",{locale:H.tr}):(0,r.jsx)("span",{children:"Tarih se\xe7in"}),(0,r.jsx)(J.A,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),(0,r.jsx)(h.hl,{className:"w-auto p-0",align:"start",children:(0,r.jsx)(T,{mode:"single",selected:t.value,onSelect:t.onChange,initialFocus:!0})})]}),(0,r.jsx)(p.C5,{})]})}}),(0,r.jsx)(p.zB,{control:_.control,name:"cancellationReminderDate",render:e=>{let{field:t}=e;return(0,r.jsxs)(p.eI,{className:"flex flex-col",children:[(0,r.jsx)(p.lR,{children:"İptal Etme Hatırlatıcısı (opsiyonel)"}),(0,r.jsxs)(h.AM,{children:[(0,r.jsx)(h.Wv,{asChild:!0,children:(0,r.jsx)(p.MJ,{children:(0,r.jsxs)(o.$,{variant:"outline",className:(0,D.cn)("w-full pl-3 text-left font-normal",!t.value&&"text-muted-foreground"),children:[t.value?(0,K.GP)(t.value,"dd MMMM yyyy",{locale:H.tr}):(0,r.jsx)("span",{children:"Hatırlatıcı tarihi se\xe7in"}),(0,r.jsx)(L.A,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),(0,r.jsx)(h.hl,{className:"w-auto p-0",align:"start",children:(0,r.jsx)(T,{mode:"single",selected:t.value,onSelect:t.onChange,initialFocus:!0})})]}),(0,r.jsx)(p.C5,{}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Bu tarihte aboneliği iptal etmeyi hatırlatacağız"})]})}}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(x.J,{children:"Bağlı Kart (opsiyonel)"}),(0,r.jsxs)("select",{id:"subscription-card-select",defaultValue:(null==j?void 0:j.cardId)||"",className:"w-full border rounded-md px-3 py-2 bg-background text-sm",children:[(0,r.jsx)("option",{value:"",children:"Kart se\xe7me"}),k.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsx)(m.Es,{className:"gap-2",children:(0,r.jsxs)(o.$,{type:"submit",className:"w-full",children:[(0,r.jsx)(V.A,{className:"h-4 w-4 mr-2"}),j?"G\xfcncelle":"Abonelik Ekle"]})})]})})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("h3",{className:"font-semibold text-lg",children:["Mevcut Abonelikler (",g.length,")"]}),(0,r.jsx)("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-2",children:0===g.length?(0,r.jsx)(d.Zp,{children:(0,r.jsxs)(d.Wu,{className:"p-8 text-center",children:[(0,r.jsx)(N.A,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),(0,r.jsx)("h4",{className:"font-semibold mb-2",children:"Hen\xfcz abonelik eklenmemiş"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"İlk aboneliğinizi ekleyerek aylık harcamalarınızı takip etmeye başlayın."})]})}):g.map(e=>{let t=et[e.category]||et.other,a=t.icon,n=new Date(e.nextBillingDate),l=Math.ceil((n.getTime()-new Date().getTime())/864e5),s=l<0,i=l<=7&&l>=0;return(0,r.jsx)(d.Zp,{className:(0,D.cn)("transition-all hover:shadow-md",s&&"border-red-200 bg-red-50/50",i&&"border-orange-200 bg-orange-50/50"),children:(0,r.jsx)(d.Wu,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,r.jsx)("div",{className:(0,D.cn)("p-2 rounded-lg","purple"===t.color?"bg-purple-500/20":"green"===t.color?"bg-green-500/20":"blue"===t.color?"bg-blue-500/20":"yellow"===t.color?"bg-yellow-500/20":"orange"===t.color?"bg-orange-500/20":"red"===t.color?"bg-red-500/20":"bg-gray-500/20"),children:(0,r.jsx)(a,{className:(0,D.cn)("h-5 w-5","purple"===t.color?"text-purple-600":"green"===t.color?"text-green-600":"blue"===t.color?"text-blue-600":"yellow"===t.color?"text-yellow-600":"orange"===t.color?"text-orange-600":"red"===t.color?"text-red-600":"text-gray-600")})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h4",{className:"font-semibold",children:e.name}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,r.jsx)(c.E,{variant:"outline",className:"text-xs",children:t.label}),s&&(0,r.jsxs)(c.E,{variant:"destructive",className:"text-xs",children:[(0,r.jsx)(L.A,{className:"h-3 w-3 mr-1"}),"Gecikmiş"]}),i&&!s&&(0,r.jsxs)(c.E,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-700",children:[(0,r.jsx)(Y.A,{className:"h-3 w-3 mr-1"}),"Yakında"]})]}),(0,r.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Aylık"}),(0,r.jsx)("span",{className:"font-semibold",children:(0,D.tn)(e.price)})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Sonraki fatura"}),(0,r.jsx)("span",{className:(0,D.cn)("font-medium",s&&"text-red-600",i&&"text-orange-600"),children:(0,K.GP)(n,"dd MMM yyyy",{locale:H.tr})})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Yıllık maliyet"}),(0,r.jsx)("span",{className:"font-medium",children:(0,D.tn)(12*e.price)})]}),e.cancellationReminderDate&&(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"İptal hatırlatıcısı"}),(0,r.jsxs)("span",{className:"font-medium text-orange-600 flex items-center gap-1",children:[(0,r.jsx)(L.A,{className:"h-3 w-3"}),(0,K.GP)(new Date(e.cancellationReminderDate),"dd MMM yyyy",{locale:H.tr})]})]})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>v(e),className:"h-8 px-2",children:[(0,r.jsx)(U.A,{className:"h-4 w-4 mr-1"}),"D\xfczenle"]}),(0,r.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>M(e.id),className:"h-8 px-2 border-red-200 text-red-600 hover:bg-red-50",children:[(0,r.jsx)(q.A,{className:"h-4 w-4 mr-1"}),"Sil"]})]})]})})},e.id)})})]})]})]})})}},46638:(e,t,a)=>{a.d(t,{dj:()=>u});var r=a(50654);let n=0,l=new Map,s=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?s(a):e.toasts.forEach(e=>{s(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=i(d,e),o.forEach(e=>{e(d)})}function m(e){let{...t}=e,a=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function u(){let[e,t]=r.useState(d);return r.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},53863:(e,t,a)=>{a.d(t,{k:()=>s});var r=a(86286);a(50654);var n=a(96117),l=a(18821);function s(e){let{className:t,value:a,...s}=e;return(0,r.jsx)(n.bL,{"data-slot":"progress",className:(0,l.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...s,children:(0,r.jsx)(n.C1,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})}}}]);