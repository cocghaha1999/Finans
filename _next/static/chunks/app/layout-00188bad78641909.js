(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{732:()=>{},6743:(e,s,t)=>{"use strict";t.d(s,{Bc:()=>n,ZI:()=>d,k$:()=>c,m_:()=>i});var a=t(86286);t(50654);var r=t(26450),l=t(18821);function n(e){let{delayDuration:s=0,...t}=e;return(0,a.jsx)(r.Kq,{"data-slot":"tooltip-provider",delayDuration:s,...t})}function i(e){let{...s}=e;return(0,a.jsx)(n,{children:(0,a.jsx)(r.bL,{"data-slot":"tooltip",...s})})}function c(e){let{...s}=e;return(0,a.jsx)(r.l9,{"data-slot":"tooltip-trigger",...s})}function d(e){let{className:s,sideOffset:t=0,children:n,...i}=e;return(0,a.jsx)(r.ZL,{children:(0,a.jsxs)(r.UC,{"data-slot":"tooltip-content",sideOffset:t,className:(0,l.cn)("bg-primary text-primary-foreground z-[1000] w-fit rounded-md px-3 py-1.5 text-xs text-balance",s),...i,children:[n,(0,a.jsx)(r.i3,{className:"bg-primary fill-primary z-[1000] size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}},10015:(e,s,t)=>{"use strict";t.d(s,{default:()=>ew});var a=t(86286),r=t(50654),l=t(72548),n=t(69253),i=t(86157),c=t(57416),d=t(36883),m=t(36938),o=t(77774),x=t(19679),h=t(77857),u=t(56248),j=t(66122),p=t(32017),f=t(64922),g=t(38170),v=t(18821),y=t(37942),b=t(1999);function N(e){let{className:s,...t}=e;return(0,a.jsx)(b.bL,{"data-slot":"avatar",className:(0,v.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",s),...t})}function w(e){let{className:s,...t}=e;return(0,a.jsx)(b._V,{"data-slot":"avatar-image",className:(0,v.cn)("aspect-square size-full",s),...t})}function k(e){let{className:s,...t}=e;return(0,a.jsx)(b.H4,{"data-slot":"avatar-fallback",className:(0,v.cn)("bg-muted flex size-full items-center justify-center rounded-full",s),...t})}var C=t(92709),A=t(14419),S=t.n(A),D=t(77007),T=t(31700);function E(e){let{className:s,children:t,...r}=e;return(0,a.jsxs)(T.bL,{"data-slot":"scroll-area",className:(0,v.cn)("relative",s),...r,children:[(0,a.jsx)(T.LM,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),(0,a.jsx)(z,{}),(0,a.jsx)(T.OK,{})]})}function z(e){let{className:s,orientation:t="vertical",...r}=e;return(0,a.jsx)(T.VM,{"data-slot":"scroll-area-scrollbar",orientation:t,className:(0,v.cn)("flex touch-none p-px transition-colors select-none","vertical"===t&&"h-full w-2.5 border-l border-l-transparent","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent",s),...r,children:(0,a.jsx)(T.lr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var M=t(73078),B=t(80861),F=t(25914),G=t(66033),R=t(11143),P=t(5405),Y=t(82515),$=t(91010),J=t(32124);let L={payment:(0,a.jsx)(G.A,{className:"h-5 w-5"}),reminder:(0,a.jsx)(R.A,{className:"h-5 w-5"}),alert:(0,a.jsx)(P.A,{className:"h-5 w-5"}),info:(0,a.jsx)(Y.A,{className:"h-5 w-5"})},O={payment:"text-green-500",reminder:"text-blue-500",alert:"text-red-500",info:"text-gray-500"};function I(e){let{open:s,onClose:t}=e,[l]=(0,M.hD)(p.auth),[n,i]=(0,r.useState)([]);(0,r.useEffect)(()=>{if(l&&s){let e=(0,g.sd)(l.uid,i);return()=>{e&&e()}}},[l,s]);let c=async e=>{l&&await (0,g.bA)(l.uid,e)},d=async()=>{l&&await (0,g.he)(l.uid)},m=n.filter(e=>!e.read).length;return(0,a.jsx)(D.cj,{open:s,onOpenChange:t,children:(0,a.jsxs)(D.h,{className:"flex flex-col h-full max-h-[100dvh]",children:[(0,a.jsxs)(D.Fm,{children:[(0,a.jsxs)(D.qp,{children:["Bildirimler (",m>0?"".concat(m," yeni"):"t\xfcm\xfc okundu",")"]}),(0,a.jsx)(D.Qs,{children:"Son g\xfcncellemeler ve hatırlatıcılar."})]}),(0,a.jsx)(E,{className:"flex-grow -mr-6 pr-6",children:(0,a.jsx)("div",{className:"space-y-2 pr-6",children:n.length>0?n.map(e=>{let s=L[e.type]||L.info,r=O[e.type]||O.info,l=(0,a.jsxs)("div",{className:(0,v.cn)("flex items-start gap-3 p-3 rounded-lg transition-colors hover:bg-muted/80 cursor-pointer",!e.read&&"bg-muted/50"),onClick:()=>{e.read||c(e.id),e.link&&t()},children:[(0,a.jsxs)("div",{className:"relative flex-shrink-0",children:[!e.read&&(0,a.jsx)("span",{className:"absolute top-0 right-0 block h-2 w-2 rounded-full bg-primary ring-2 ring-background"}),(0,a.jsx)("div",{className:(0,v.cn)("mt-1",r,e.read&&"opacity-50"),children:s})]}),(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsx)("p",{className:(0,v.cn)("text-sm",e.read?"text-muted-foreground":"font-semibold text-foreground"),children:e.message}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:(0,B.m)(new Date(e.timestamp),{addSuffix:!0,locale:F.tr})})]})]});return e.link?(0,a.jsx)(S(),{href:e.link,passHref:!0,children:l},e.id):(0,a.jsx)("div",{children:l},e.id)}):(0,a.jsxs)("div",{className:"text-center text-muted-foreground py-16 flex flex-col items-center justify-center",children:[(0,a.jsx)($.A,{className:"h-10 w-10 mb-4"}),(0,a.jsx)("h3",{className:"font-semibold",children:"Hen\xfcz bildirim yok"}),(0,a.jsx)("p",{className:"text-sm",children:"Yeni bir şey olduğunda burada g\xf6r\xfcnecek."})]})})}),n.length>0&&(0,a.jsx)(D.XW,{className:"mt-4 sticky bottom-0 bg-background pt-2",children:(0,a.jsxs)(y.$,{variant:"outline",className:"w-full",onClick:d,children:[(0,a.jsx)(J.A,{className:"mr-2 h-4 w-4"}),"T\xfcm\xfcn\xfc Okundu Olarak İşaretle"]})})]})})}var K=t(78320),_=t(21669),H=t(30334),q=t(41188),V=t(99426),W=t(27484),X=t(23398),U=t(37867),Z=t(61498),Q=t(49846),ee=t(71751),es=t(28895),et=t(90967),ea=t(37714);function er(){let{resolvedTheme:e,setTheme:s}=(0,es.D)(),[t,l]=r.useState(!1);if(r.useEffect(()=>l(!0),[]),!t)return(0,a.jsx)(y.$,{variant:"ghost",size:"icon",disabled:!0,children:(0,a.jsx)(et.A,{className:"h-5 w-5"})});let n="dark"===e;return(0,a.jsx)(y.$,{variant:"ghost",size:"icon","aria-label":"Tema değiştir",onClick:()=>s(n?"light":"dark"),className:"relative",children:n?(0,a.jsx)(et.A,{className:"h-5 w-5"}):(0,a.jsx)(ea.A,{className:"h-5 w-5"})})}var el=t(4268),en=t(29995),ei=t(62686),ec=t(2036);let ed={home:{name:"Ana Sayfa",description:"Genel bakış ve \xf6zet bilgiler",icon:n.A,color:"text-blue-600"},budgets:{name:"B\xfct\xe7eler",description:"B\xfct\xe7e takibi ve limitler",icon:m.A,color:"text-green-600"},kartlarim:{name:"Kartlarım",description:"Kart bakiyeleri ve hareketler",icon:d.A,color:"text-purple-600"},odemeler:{name:"\xd6demeler",description:"Fatura ve \xf6deme hatırlatıcıları",icon:i.A,color:"text-red-600"},yatirimlar:{name:"Yatırımlar",description:"Yatırım portf\xf6y\xfc ve piyasa",icon:c.A,color:"text-orange-600"},notifications:{name:"Bildirimler",description:"Bildirim merkezi ve ayarları",icon:$.A,color:"text-gray-600"}},em={bill_due:{name:"Fatura Vadesi",description:"Vade tarihi yaklaşan faturalar",icon:i.A,category:"\xd6demeler"},budget_exceeded:{name:"B\xfct\xe7e Aşımı",description:"Belirlenen b\xfct\xe7e limitlerini aşma",icon:el.A,category:"B\xfct\xe7e"},payment_reminder:{name:"\xd6deme Hatırlatıcısı",description:"Bekleyen \xf6deme işlemleri",icon:en.A,category:"\xd6demeler"},low_balance:{name:"D\xfcş\xfck Bakiye",description:"Hesap bakiyesi d\xfcş\xfck seviye uyarısı",icon:d.A,category:"Kartlar"},monthly_report:{name:"Aylık Rapor",description:"Aylık finansal \xf6zet raporları",icon:c.A,category:"Raporlar"},goal_reached:{name:"Hedef Tamamlandı",description:"Belirlenen hedeflere ulaşma",icon:m.A,category:"Hedefler"},transaction_alert:{name:"İşlem Uyarısı",description:"Yeni işlem bildirimleri",icon:G.A,category:"İşlemler"},calendar_daily:{name:"G\xfcnl\xfck Takvim",description:"G\xfcnl\xfck etkinlik hatırlatıcıları",icon:h.A,category:"Takvim"},calendar_event:{name:"Takvim Etkinliği",description:"\xd6zel etkinlik bildirimleri",icon:h.A,category:"Takvim"},calendar_summary:{name:"Takvim \xd6zeti",description:"Haftalık ve aylık takvim \xf6zetleri",icon:h.A,category:"Takvim"}};function eo(e){let{className:s}=e,{getNotificationSettings:t,requestPermission:l,checkPermission:n}=(0,ec.E$)(),[i,c]=(0,r.useState)(ec.AT),[d,m]=(0,r.useState)("default"),[o,x]=(0,r.useState)("general");(0,r.useEffect)(()=>{h(),j()},[]);let h=()=>{c(t())},u=e=>{c(e),localStorage.setItem("notification-settings",JSON.stringify(e))},j=async()=>{m(await n())},p=async()=>{await l()&&m("granted")},f=(e,s)=>{u({...i,pageNotifications:{...i.pageNotifications,[e]:s}})},g=(e,s)=>{u({...i,[e]:s})},b=(e,s)=>{u({...i,[e]:s})},{pageCount:N,typeCount:w,total:k}=(()=>{let e=Object.values(i.pageNotifications).filter(Boolean).length,s=[i.billReminders,i.budgetAlerts,i.paymentReminders,i.lowBalanceAlerts,i.monthlyReports,i.goalNotifications,i.transactionAlerts,i.calendarNotifications].filter(Boolean).length;return{pageCount:e,typeCount:s,total:e+s}})();return(0,a.jsxs)(W.Zp,{className:(0,v.cn)("w-full max-w-4xl",s),children:[(0,a.jsxs)(W.aR,{className:"pb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(W.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)($.A,{className:"h-5 w-5"}),"Bildirim Ayarları"]}),(0,a.jsx)(W.BT,{children:"Alacağınız bildirimleri \xf6zelleştirin ve y\xf6netin"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(ee.E,{variant:i.enabled?"default":"secondary",children:i.enabled?"Aktif":"Pasif"}),(0,a.jsxs)(ee.E,{variant:"outline",children:[k," etkin"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-muted/30 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[i.enabled?(0,a.jsx)($.A,{className:"h-5 w-5 text-primary"}):(0,a.jsx)(ei.A,{className:"h-5 w-5 text-muted-foreground"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:"Ana Bildirim Anahtarı"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"T\xfcm bildirimleri etkinleştirin veya devre dışı bırakın"})]})]}),(0,a.jsx)(X.d,{checked:i.enabled,onCheckedChange:e=>g("enabled",e)})]}),"granted"!==d&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(el.A,{className:"h-5 w-5 text-orange-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-orange-800",children:"Tarayıcı İzni Gerekli"}),(0,a.jsx)("p",{className:"text-sm text-orange-700",children:"Bildirimleri alabilmek i\xe7in tarayıcı izni verin"})]})]}),(0,a.jsx)(y.$,{onClick:p,size:"sm",children:"İzin Ver"})]})]}),(0,a.jsx)(W.Wu,{children:(0,a.jsxs)(Q.tU,{value:o,onValueChange:x,className:"w-full",children:[(0,a.jsxs)(Q.j7,{className:"grid w-full grid-cols-4",children:[(0,a.jsx)(Q.Xi,{value:"general",children:"Genel"}),(0,a.jsx)(Q.Xi,{value:"pages",children:"Sayfalar"}),(0,a.jsx)(Q.Xi,{value:"types",children:"Bildirim T\xfcrleri"}),(0,a.jsx)(Q.Xi,{value:"advanced",children:"Gelişmiş"})]}),(0,a.jsx)(Q.av,{value:"general",className:"space-y-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Genel Ayarlar"}),(0,a.jsxs)("div",{className:"grid gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(q.J,{children:"Tarayıcı Bildirimleri"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Sistem tepsisinde bildirim g\xf6ster"})]}),(0,a.jsx)(X.d,{checked:i.browserNotifications,onCheckedChange:e=>g("browserNotifications",e),disabled:!i.enabled})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(q.J,{children:"E-posta Bildirimleri"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"E-posta ile bildirim al (yakında)"})]}),(0,a.jsx)(X.d,{checked:i.emailNotifications,onCheckedChange:e=>g("emailNotifications",e),disabled:!i.enabled})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(q.J,{children:"Takvim Bildirimleri"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Takvim etkinlikleri i\xe7in bildirimler"})]}),(0,a.jsx)(X.d,{checked:i.calendarNotifications,onCheckedChange:e=>g("calendarNotifications",e),disabled:!i.enabled})]})]})]})}),(0,a.jsx)(Q.av,{value:"pages",className:"space-y-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Sayfa Bazında Bildirimler"}),(0,a.jsxs)(ee.E,{variant:"outline",children:[N,"/6 aktif"]})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Hangi sayfalardan bildirim almak istediğinizi se\xe7in"}),(0,a.jsx)("div",{className:"grid gap-3",children:Object.entries(ed).map(e=>{let[s,t]=e,r=t.icon,l=i.pageNotifications[s];return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(r,{className:(0,v.cn)("h-5 w-5",t.color)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium",children:t.name}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:t.description})]})]}),(0,a.jsx)(X.d,{checked:l,onCheckedChange:e=>f(s,e),disabled:!i.enabled})]},s)})})]})}),(0,a.jsx)(Q.av,{value:"types",className:"space-y-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Bildirim T\xfcrleri"}),(0,a.jsxs)(ee.E,{variant:"outline",children:[w,"/8 aktif"]})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Hangi t\xfcr bildirimleri almak istediğinizi se\xe7in"}),(0,a.jsx)("div",{className:"space-y-6",children:Object.entries(Object.entries(em).reduce((e,s)=>{let[t,a]=s,r=a.category;return e[r]||(e[r]=[]),e[r].push([t,a]),e},{})).map(e=>{let[s,t]=e;return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:s}),(0,a.jsx)("div",{className:"grid gap-3",children:t.map(e=>{let[s,t]=e,r=t.icon,l="bill_due"===s?"billReminders":"budget_exceeded"===s?"budgetAlerts":"payment_reminder"===s?"paymentReminders":"low_balance"===s?"lowBalanceAlerts":"monthly_report"===s?"monthlyReports":"goal_reached"===s?"goalNotifications":"transaction_alert"===s?"transactionAlerts":s.startsWith("calendar_")?"calendarNotifications":null;if(!l)return null;let n=i[l];return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(r,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"font-medium text-sm",children:t.name}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:t.description})]})]}),(0,a.jsx)(X.d,{checked:n,onCheckedChange:e=>g(l,e),disabled:!i.enabled})]},s)})})]},s)})})]})}),(0,a.jsx)(Q.av,{value:"advanced",className:"space-y-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Gelişmiş Ayarlar"}),(0,a.jsxs)("div",{className:"grid gap-6",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(q.J,{htmlFor:"reminderDays",children:"Hatırlatma S\xfcresi (g\xfcn \xf6nceden)"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(H.p,{id:"reminderDays",type:"number",min:"1",max:"30",value:i.reminderDaysBefore,onChange:e=>b("reminderDaysBefore",parseInt(e.target.value)||3),className:"w-20",disabled:!i.enabled}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"g\xfcn"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Vade tarihinden ka\xe7 g\xfcn \xf6nce hatırlatma yapılsın"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(q.J,{htmlFor:"lowBalance",children:"D\xfcş\xfck Bakiye Eşiği (₺)"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(H.p,{id:"lowBalance",type:"number",min:"0",step:"10",value:i.lowBalanceThreshold,onChange:e=>b("lowBalanceThreshold",parseFloat(e.target.value)||100),className:"w-32",disabled:!i.enabled}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"₺"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Bu tutarın altına d\xfcşt\xfcğ\xfcnde uyarı ver"})]}),(0,a.jsx)(U.w,{}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h4",{className:"font-medium",children:"Takvim \xd6zellikleri"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(q.J,{children:"G\xfcnl\xfck Hatırlatıcı"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Her g\xfcn o g\xfcnk\xfc etkinlikler i\xe7in bildirim"})]}),(0,a.jsx)(X.d,{checked:i.calendarDailyReminder,onCheckedChange:e=>g("calendarDailyReminder",e),disabled:!i.enabled||!i.calendarNotifications})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(q.J,{children:"Etkinlik Hatırlatıcısı"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Yeni etkinlik eklendiğinde bildirim"})]}),(0,a.jsx)(X.d,{checked:i.calendarEventReminder,onCheckedChange:e=>g("calendarEventReminder",e),disabled:!i.enabled||!i.calendarNotifications})]})]}),(0,a.jsx)(U.w,{}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h4",{className:"font-medium",children:"Test ve Bakım"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(y.$,{variant:"outline",size:"sm",onClick:()=>{"Notification"in window&&"granted"===Notification.permission&&new Notification("Test Bildirimi",{body:"Bildirim sisteminiz \xe7alışıyor! \uD83C\uDF89",icon:"/icons/icon-192x192.png"})},disabled:!i.enabled||"granted"!==d,children:"Test Bildirimi G\xf6nder"}),(0,a.jsx)(y.$,{variant:"outline",size:"sm",onClick:()=>{let e=JSON.parse(localStorage.getItem("costik-notifications")||"[]").filter(e=>Date.now()-new Date(e.createdAt).getTime()<6048e5);localStorage.setItem("costik-notifications",JSON.stringify(e))},children:"Eski Bildirimleri Temizle"})]})]})]})]})})]})})]})}var ex=t(48738),eh=t(11106),eu=t(74216),ej=t(64043),ep=t(51154),ef=t(53678),eg=t(94120),ev=t(43146);let ey={currency:"TRY",locale:"tr-TR",notifications:!0,monthResetDay:1,expenseAlertRealertOnThresholdChange:!0,expenseAlertTriggerOnEqual:!1,calendarFixedPastMonths:1,calendarFixedFutureMonths:1,calendarIncludeCards:!1,autoSaveEnabled:!0,soundEnabled:!0,compactView:!1,showWelcomeTips:!0,defaultTransactionType:"gider",quickAmounts:[10,25,50,100,250,500],dateFormat:"dd/mm/yyyy",enableKeyboardShortcuts:!0,showBalance:!0,currencySymbol:"₺",decimalPlaces:2,enableBackup:!0,backupFrequency:"weekly"};function eb(){var e;let[s,t]=(0,r.useState)(ey),[l,n]=(0,r.useState)(!1),[i,c]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(!i)return;let e=null===p.auth||void 0===p.auth?void 0:p.auth.currentUser;if(e){let s=(0,g.Ms)(e.uid,e=>{if(e){let s={...ey,...e};t(s);try{localStorage.setItem("settings",JSON.stringify(s))}catch(e){}}});return(0,g.h_)(e.uid).then(e=>{if(e){let l={...ey,...e};t(l);try{localStorage.setItem("settings",JSON.stringify(l))}catch(e){}try{var s,a,r;l.calendarFixedPastMonths,l.calendarFixedFutureMonths,l.calendarIncludeCards}catch(e){}}}),()=>{s&&s()}}try{let e=localStorage.getItem("settings");if(e){let l={...ey,...(0,v.jD)(e,{})};t(l);try{var s,a,r;l.calendarFixedPastMonths,l.calendarFixedFutureMonths,l.calendarIncludeCards}catch(e){}}}catch(e){}},[i]);let d=async()=>{n(!0);try{let r=null===p.auth||void 0===p.auth?void 0:p.auth.currentUser,l={};for(let e in s)void 0!==s[e]&&(l[e]=s[e]);r&&await (0,g.Hz)(r.uid,l);try{localStorage.setItem("settings",JSON.stringify(l))}catch(e){}try{var e,t,a;s.calendarFixedPastMonths,s.calendarFixedFutureMonths,s.calendarIncludeCards}catch(e){}}catch(e){console.error(e)}finally{n(!1),c(!1)}},m=e=>{let a=s.quickAmounts||[];t({...s,quickAmounts:a.filter(s=>s!==e)})},o=(e,a)=>{let r=s.quickAmounts||[],l=r.indexOf(e);if(-1!==l){let e=[...r];e[l]=a,t({...s,quickAmounts:e})}};return(0,a.jsxs)(V.lG,{open:i,onOpenChange:c,children:[(0,a.jsx)(V.zM,{asChild:!0,children:(0,a.jsx)(y.$,{variant:"ghost",size:"icon",className:"h-6 w-6 sm:h-10 sm:w-10 flex-shrink-0",title:"Ayarlar","data-mobile-button":"true",children:(0,a.jsx)(ex.A,{className:"h-3 w-3 sm:h-5 sm:w-5"})})}),(0,a.jsxs)(V.Cf,{className:"max-w-[95vw] sm:max-w-[500px] md:max-w-4xl max-h-[95vh] sm:max-h-[90vh] overflow-auto p-2 sm:p-6",children:[(0,a.jsxs)(V.c7,{children:[(0,a.jsxs)(V.L3,{className:"flex items-center gap-2 text-sm sm:text-base",children:[(0,a.jsx)(ex.A,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Ayarlar"]}),(0,a.jsx)(V.rr,{className:"text-xs sm:text-sm",children:"Uygulamanızı kendinize g\xf6re \xf6zelleştirin."})]}),(0,a.jsxs)(Q.tU,{defaultValue:"general",className:"w-full",children:[(0,a.jsxs)(Q.j7,{className:"grid grid-cols-6 w-full h-8 sm:h-10",children:[(0,a.jsxs)(Q.Xi,{value:"general",className:"flex items-center gap-1 text-xs sm:text-sm p-1 sm:p-2",children:[(0,a.jsx)(eh.A,{className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Genel"})]}),(0,a.jsxs)(Q.Xi,{value:"appearance",className:"flex items-center gap-1 text-xs sm:text-sm p-1 sm:p-2",children:[(0,a.jsx)(eu.A,{className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"G\xf6r\xfcn\xfcm"})]}),(0,a.jsxs)(Q.Xi,{value:"notifications",className:"flex items-center gap-1 text-xs sm:text-sm p-1 sm:p-2",children:[(0,a.jsx)($.A,{className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Bildirim"})]}),(0,a.jsxs)(Q.Xi,{value:"calendar",className:"flex items-center gap-1 text-xs sm:text-sm p-1 sm:p-2",children:[(0,a.jsx)(h.A,{className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Takvim"})]}),(0,a.jsxs)(Q.Xi,{value:"finance",className:"flex items-center gap-1",children:[(0,a.jsx)(ej.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Finans"})]}),(0,a.jsxs)(Q.Xi,{value:"advanced",className:"flex items-center gap-1",children:[(0,a.jsx)(ep.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Gelişmiş"})]})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)(Q.av,{value:"general",className:"space-y-4",children:(0,a.jsxs)(W.Zp,{children:[(0,a.jsxs)(W.aR,{children:[(0,a.jsxs)(W.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(eh.A,{className:"h-5 w-5"}),"Genel Ayarlar"]}),(0,a.jsx)(W.BT,{children:"Temel uygulama tercihleri ve davranışları."})]}),(0,a.jsxs)(W.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(q.J,{htmlFor:"auto-save",children:"Otomatik Kaydetme"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Değişiklikleri otomatik kaydet"})]}),(0,a.jsx)(X.d,{id:"auto-save",checked:s.autoSaveEnabled,onCheckedChange:e=>t({...s,autoSaveEnabled:e})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(q.J,{htmlFor:"welcome-tips",children:"Hoş Geldin İpu\xe7ları"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Yeni \xf6zellikler i\xe7in ipu\xe7ları g\xf6ster"})]}),(0,a.jsx)(X.d,{id:"welcome-tips",checked:s.showWelcomeTips,onCheckedChange:e=>t({...s,showWelcomeTips:e})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(q.J,{htmlFor:"keyboard-shortcuts",children:"Klavye Kısayolları"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Klavye kısayollarını etkinleştir"})]}),(0,a.jsx)(X.d,{id:"keyboard-shortcuts",checked:s.enableKeyboardShortcuts,onCheckedChange:e=>t({...s,enableKeyboardShortcuts:e})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(q.J,{htmlFor:"sound-effects",children:"Ses Efektleri"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"İşlem seslerini etkinleştir"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(X.d,{id:"sound-effects",checked:s.soundEnabled,onCheckedChange:e=>t({...s,soundEnabled:e})}),(0,a.jsx)(y.$,{size:"sm",variant:"outline",onClick:()=>{if(s.soundEnabled)try{let e=new(window.AudioContext||window.webkitAudioContext),s=e.createOscillator(),t=e.createGain();s.connect(t),t.connect(e.destination),s.frequency.setValueAtTime(800,e.currentTime),t.gain.setValueAtTime(.1,e.currentTime),t.gain.exponentialRampToValueAtTime(.01,e.currentTime+.1),s.start(e.currentTime),s.stop(e.currentTime+.1)}catch(e){console.log("Ses \xe7alınamadı:",e)}},disabled:!s.soundEnabled,children:s.soundEnabled?(0,a.jsx)(ef.A,{className:"h-4 w-4"}):(0,a.jsx)(eg.A,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(q.J,{htmlFor:"month-reset-day",children:"Ay Sıfırlama G\xfcn\xfc"}),(0,a.jsx)(H.p,{id:"month-reset-day",type:"number",min:1,max:28,value:s.monthResetDay,onChange:e=>t({...s,monthResetDay:parseInt(e.target.value)}),className:"w-24"})]})]})]})}),(0,a.jsx)(Q.av,{value:"appearance",className:"space-y-4",children:(0,a.jsxs)(W.Zp,{children:[(0,a.jsxs)(W.aR,{children:[(0,a.jsxs)(W.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(eu.A,{className:"h-5 w-5"}),"G\xf6r\xfcn\xfcm Ayarları"]}),(0,a.jsx)(W.BT,{children:"Uygulamanın g\xf6r\xfcn\xfcm\xfcn\xfc ve hissiyatını \xf6zelleştirin."})]}),(0,a.jsxs)(W.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(q.J,{children:"Koyu Tema"}),(0,a.jsx)(er,{})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(q.J,{htmlFor:"compact-view",children:"Kompakt G\xf6r\xfcn\xfcm"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Daha az boşluk, daha fazla i\xe7erik"})]}),(0,a.jsx)(X.d,{id:"compact-view",checked:s.compactView,onCheckedChange:e=>t({...s,compactView:e})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(q.J,{htmlFor:"show-balance",children:"Bakiye G\xf6ster"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ana sayfada bakiyeyi g\xf6ster"})]}),(0,a.jsx)(X.d,{id:"show-balance",checked:s.showBalance,onCheckedChange:e=>t({...s,showBalance:e})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(q.J,{htmlFor:"date-format",children:"Tarih Formatı"}),(0,a.jsxs)(Z.l6,{value:s.dateFormat,onValueChange:e=>t({...s,dateFormat:e}),children:[(0,a.jsx)(Z.bq,{className:"w-40",children:(0,a.jsx)(Z.yv,{})}),(0,a.jsxs)(Z.gC,{children:[(0,a.jsx)(Z.eb,{value:"dd/mm/yyyy",children:"DD/MM/YYYY"}),(0,a.jsx)(Z.eb,{value:"mm/dd/yyyy",children:"MM/DD/YYYY"}),(0,a.jsx)(Z.eb,{value:"yyyy-mm-dd",children:"YYYY-MM-DD"})]})]})]})]})]})}),(0,a.jsx)(Q.av,{value:"notifications",className:"space-y-4",children:(0,a.jsx)(eo,{})}),(0,a.jsx)(Q.av,{value:"calendar",className:"space-y-4",children:(0,a.jsxs)(W.Zp,{children:[(0,a.jsxs)(W.aR,{children:[(0,a.jsxs)(W.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"h-5 w-5"}),"Takvim Ayarları"]}),(0,a.jsx)(W.BT,{children:"Takvim g\xf6r\xfcn\xfcm\xfc ve davranış tercihleri."})]}),(0,a.jsxs)(W.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(q.J,{htmlFor:"calendar-past",children:"Ge\xe7miş Ay Sayısı"}),(0,a.jsx)(H.p,{id:"calendar-past",type:"number",min:0,max:12,value:s.calendarFixedPastMonths,onChange:e=>t({...s,calendarFixedPastMonths:parseInt(e.target.value)}),className:"w-24"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(q.J,{htmlFor:"calendar-future",children:"Gelecek Ay Sayısı"}),(0,a.jsx)(H.p,{id:"calendar-future",type:"number",min:0,max:12,value:s.calendarFixedFutureMonths,onChange:e=>t({...s,calendarFixedFutureMonths:parseInt(e.target.value)}),className:"w-24"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(q.J,{htmlFor:"calendar-cards",children:"Kart Harcamalarını G\xf6ster"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Takvimde kart harcamalarını işaretle"})]}),(0,a.jsx)(X.d,{id:"calendar-cards",checked:s.calendarIncludeCards,onCheckedChange:e=>t({...s,calendarIncludeCards:e})})]})]})]})}),(0,a.jsx)(Q.av,{value:"finance",className:"space-y-4",children:(0,a.jsxs)(W.Zp,{children:[(0,a.jsxs)(W.aR,{children:[(0,a.jsxs)(W.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(ej.A,{className:"h-5 w-5"}),"Finansal Ayarlar"]}),(0,a.jsx)(W.BT,{children:"Para birimi, format ve hızlı işlem ayarları."})]}),(0,a.jsxs)(W.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(q.J,{htmlFor:"currency",children:"Para Birimi"}),(0,a.jsxs)(Z.l6,{value:s.currency,onValueChange:e=>t({...s,currency:e}),children:[(0,a.jsx)(Z.bq,{className:"w-32",children:(0,a.jsx)(Z.yv,{})}),(0,a.jsxs)(Z.gC,{children:[(0,a.jsx)(Z.eb,{value:"TRY",children:"TRY (₺)"}),(0,a.jsx)(Z.eb,{value:"USD",children:"USD ($)"}),(0,a.jsx)(Z.eb,{value:"EUR",children:"EUR (€)"}),(0,a.jsx)(Z.eb,{value:"GBP",children:"GBP (\xa3)"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(q.J,{htmlFor:"currency-symbol",children:"Para Birimi Sembol\xfc"}),(0,a.jsx)(H.p,{id:"currency-symbol",value:s.currencySymbol,onChange:e=>t({...s,currencySymbol:e.target.value}),className:"w-20",maxLength:3})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(q.J,{htmlFor:"decimal-places",children:"Ondalık Basamak Sayısı"}),(0,a.jsxs)(Z.l6,{value:null===(e=s.decimalPlaces)||void 0===e?void 0:e.toString(),onValueChange:e=>t({...s,decimalPlaces:parseInt(e)}),children:[(0,a.jsx)(Z.bq,{className:"w-20",children:(0,a.jsx)(Z.yv,{})}),(0,a.jsxs)(Z.gC,{children:[(0,a.jsx)(Z.eb,{value:"0",children:"0"}),(0,a.jsx)(Z.eb,{value:"1",children:"1"}),(0,a.jsx)(Z.eb,{value:"2",children:"2"}),(0,a.jsx)(Z.eb,{value:"3",children:"3"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(q.J,{htmlFor:"default-transaction",children:"Varsayılan İşlem T\xfcr\xfc"}),(0,a.jsxs)(Z.l6,{value:s.defaultTransactionType,onValueChange:e=>t({...s,defaultTransactionType:e}),children:[(0,a.jsx)(Z.bq,{className:"w-32",children:(0,a.jsx)(Z.yv,{})}),(0,a.jsxs)(Z.gC,{children:[(0,a.jsx)(Z.eb,{value:"gider",children:"Gider"}),(0,a.jsx)(Z.eb,{value:"gelir",children:"Gelir"})]})]})]}),(0,a.jsx)(U.w,{}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(q.J,{children:"Hızlı Tutar Se\xe7enekleri"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"İşlem girişi i\xe7in hızlı tutar butonları"})]}),(0,a.jsx)(y.$,{size:"sm",onClick:()=>{let e=s.quickAmounts||[];e.includes(1e3)||t({...s,quickAmounts:[...e,1e3]})},children:"Ekle"})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:(s.quickAmounts||[]).map((e,s)=>(0,a.jsxs)(ee.E,{variant:"secondary",className:"relative group",children:[(0,a.jsx)(H.p,{type:"number",value:e,onChange:s=>o(e,parseInt(s.target.value)),className:"w-16 h-6 p-1 text-xs border-0 bg-transparent",min:1}),(0,a.jsx)("button",{onClick:()=>m(e),className:"ml-1 opacity-0 group-hover:opacity-100 text-xs hover:text-red-500",children:"\xd7"})]},s))})]})]})]})}),(0,a.jsx)(Q.av,{value:"advanced",className:"space-y-4",children:(0,a.jsxs)(W.Zp,{children:[(0,a.jsxs)(W.aR,{children:[(0,a.jsxs)(W.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(ep.A,{className:"h-5 w-5"}),"Gelişmiş Ayarlar"]}),(0,a.jsx)(W.BT,{children:"Yedekleme ve gelişmiş sistem ayarları."})]}),(0,a.jsxs)(W.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(q.J,{htmlFor:"enable-backup",children:"Otomatik Yedekleme"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Verilerinizi otomatik olarak yedekle"})]}),(0,a.jsx)(X.d,{id:"enable-backup",checked:s.enableBackup,onCheckedChange:e=>t({...s,enableBackup:e})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(q.J,{htmlFor:"backup-frequency",children:"Yedekleme Sıklığı"}),(0,a.jsxs)(Z.l6,{value:s.backupFrequency,onValueChange:e=>t({...s,backupFrequency:e}),disabled:!s.enableBackup,children:[(0,a.jsx)(Z.bq,{className:"w-32",children:(0,a.jsx)(Z.yv,{})}),(0,a.jsxs)(Z.gC,{children:[(0,a.jsx)(Z.eb,{value:"daily",children:"G\xfcnl\xfck"}),(0,a.jsx)(Z.eb,{value:"weekly",children:"Haftalık"}),(0,a.jsx)(Z.eb,{value:"monthly",children:"Aylık"})]})]})]}),(0,a.jsx)(U.w,{}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"font-medium",children:"Klavye Kısayolları"}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground space-y-1",children:[(0,a.jsxs)("div",{children:["• ",(0,a.jsx)("code",{children:"Ctrl + N"})," - Yeni işlem"]}),(0,a.jsxs)("div",{children:["• ",(0,a.jsx)("code",{children:"Ctrl + S"})," - Kaydet"]}),(0,a.jsxs)("div",{children:["• ",(0,a.jsx)("code",{children:"Ctrl + K"})," - Hızlı arama"]}),(0,a.jsxs)("div",{children:["• ",(0,a.jsx)("code",{children:"Esc"})," - Dialog kapat"]})]})]})]})]})})]})]}),(0,a.jsxs)(V.Es,{className:"flex justify-between",children:[(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsx)(y.$,{variant:"ghost",onClick:()=>{t(ey)},children:"Varsayılanları Geri Y\xfckle"})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(V.HM,{asChild:!0,children:(0,a.jsx)(y.$,{variant:"outline",children:"İptal"})}),(0,a.jsx)(y.$,{onClick:d,disabled:l,className:"flex items-center gap-2",children:l?(0,a.jsx)(a.Fragment,{children:"Kaydediliyor..."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ev.A,{className:"h-4 w-4"}),"Değişiklikleri Kaydet"]})})]})]})]})]})}function eN(){let[e,s]=(0,r.useState)([]),[t,l]=(0,r.useState)(0),[n,i]=(0,r.useState)(!1),{getNotifications:c,markAllAsRead:d,getUnreadCount:m,markAsRead:o}=(0,ec.E$)(),x=(0,r.useCallback)(()=>{try{let e=c();s(e),l(m())}catch(e){console.error("Error loading notifications:",e)}},[c,m]);(0,r.useEffect)(()=>{x()},[x]),(0,r.useEffect)(()=>{if(!n)return;x();let e=setInterval(x,5e3);return()=>clearInterval(e)},[n,x]);let h=(0,r.useCallback)(()=>{d(),x()},[d,x]),u=(0,r.useCallback)(e=>{e.read||(o(e.id),x())},[o,x]),j=e=>{let s="string"==typeof e?new Date(e):e,t=Math.floor((new Date().getTime()-s.getTime())/6e4),a=Math.floor(t/60),r=Math.floor(a/24);return t<1?"Şimdi":t<60?"".concat(t,"d \xf6nce"):a<24?"".concat(a,"s \xf6nce"):r<7?"".concat(r," g\xfcn \xf6nce"):s.toLocaleDateString("tr-TR")};return(0,a.jsxs)(_.AM,{open:n,onOpenChange:i,children:[(0,a.jsx)(_.Wv,{asChild:!0,children:(0,a.jsxs)(y.$,{variant:"ghost",size:"icon",className:"relative h-6 w-6 sm:h-10 sm:w-10 flex-shrink-0",title:"Bildirimler","data-mobile-button":"true",children:[(0,a.jsx)($.A,{className:"h-3 w-3 sm:h-5 sm:w-5"}),t>0&&(0,a.jsx)(ee.E,{variant:"destructive",className:"absolute -top-1 -right-1 h-4 w-4 sm:h-5 sm:w-5 flex items-center justify-center p-0 text-[8px] sm:text-[10px]",children:t>99?"99+":t})]})}),(0,a.jsxs)(_.hl,{align:"end",className:"w-80 sm:w-96 p-0 mr-2 sm:mr-4",children:[(0,a.jsx)("div",{className:"p-3 sm:p-4 border-b",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"font-semibold text-sm sm:text-base",children:"Bildirimler"}),t>0&&(0,a.jsx)(y.$,{variant:"ghost",size:"sm",onClick:h,className:"text-xs h-7 px-2",children:"T\xfcm\xfcn\xfc Okundu İşaretle"})]})}),(0,a.jsx)("div",{className:"max-h-80 sm:max-h-96 overflow-y-auto",children:0===e.length?(0,a.jsxs)("div",{className:"p-6 text-center text-muted-foreground",children:[(0,a.jsx)($.A,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),(0,a.jsx)("p",{children:"Hen\xfcz bildirim yok"})]}):(0,a.jsxs)("div",{className:"space-y-1",children:[e.slice(0,20).map(e=>(0,a.jsx)("div",{className:"p-3 hover:bg-muted/50 cursor-pointer border-l-2 transition-colors ".concat(e.read?"border-transparent":"border-primary"),onClick:()=>u(e),children:(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium truncate",children:e.title||"Bildirim"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground line-clamp-2",children:e.body||e.message||"Bildirim mesajı"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:j(e.createdAt)})]}),!e.read&&(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-1 flex-shrink-0"})]})},e.id)),e.length>20&&(0,a.jsxs)("div",{className:"p-3 text-center text-xs text-muted-foreground border-t",children:[e.length-20," daha fazla bildirim var"]})]})})]})]})}function ew(){let e=(0,l.usePathname)(),s=(0,l.useRouter)(),[t,b]=(0,r.useState)(null),[A,S]=(0,r.useState)(0),[D,T]=(0,r.useState)(0),[E,z]=(0,r.useState)(1),[M,B]=(0,r.useState)(!1),[F,G]=(0,r.useState)(!1),[R,P]=(0,r.useState)([]),[Y,$]=(0,r.useState)([]),[J,L]=(0,r.useState)([]),{openCalendar:O}=(0,K._)(),[V,W]=(0,r.useState)(!1),[X,U]=(0,r.useState)("");(0,r.useEffect)(()=>{let e,s,t,a;if(!p.auth)return;let r=p.auth.onAuthStateChanged(r=>{if(b(r),e&&e(),s&&s(),t&&t(),a&&a(),r){(0,g.h_)(r.uid).then(e=>{let s=Number(null==e?void 0:e.monthResetDay);Number.isFinite(s)&&s>=1&&s<=31&&z(s)}).catch(()=>{});let l=(0,g.Ms)(r.uid,e=>{let s=Number(null==e?void 0:e.monthResetDay);Number.isFinite(s)&&s>=1&&s<=31&&z(s)});e=(0,g.sd)(r.uid,e=>{S(e.filter(e=>!e.read).length)})||void 0,s=(0,g.Jm)(r.uid,e=>{P(e)})||void 0,t=(0,g.$S)(r.uid,e=>{$(e)})||void 0,a=(0,g.hj)(r.uid,e=>{L(e)})||void 0,e._cleanup=()=>{e&&e(),s&&s(),t&&t(),a&&a(),"function"==typeof l&&l()}}else{S(0);try{let e=(0,v.Ar)().getItem("transactions");P((0,v.jD)(e,[]))}catch(e){P([])}$([]),L([])}});return()=>{r(),e&&e(),s&&s(),t&&t(),a&&a()}},[]),(0,r.useEffect)(()=>{let e=()=>{if(!t)try{let e=(0,v.Ar)().getItem("transactions"),s=(0,v.jD)(e,[]);P(s);let t=s.reduce((e,s)=>e+("gelir"===s.type?s.amount:-s.amount),0);T(t)}catch(e){}};window.addEventListener("transactions:changed",e);let s=async()=>{let e=null===p.auth||void 0===p.auth?void 0:p.auth.currentUser;if(e&&(0,g.T1)())try{let s=await (0,g.QR)(e.uid);P(s||[])}catch(e){}};return window.addEventListener("transactions:refresh-request",s),()=>{window.removeEventListener("transactions:changed",e),window.removeEventListener("transactions:refresh-request",s)}},[t,E]),(0,r.useEffect)(()=>{T((R||[]).reduce((e,s)=>e+("gelir"===s.type?s.amount:-s.amount),0))},[R]);let Z=async()=>{try{p.auth&&await (0,f.CI)(p.auth),localStorage.removeItem("offline-user"),localStorage.removeItem("offline-credentials"),s.push("/login")}catch(e){console.error("\xc7ıkış yapılırken hata:",e)}},Q=[{href:"/",label:"Panel",icon:n.A},{href:"/odemeler",label:"\xd6demeler",icon:i.A},{href:"/yatirimlar",label:"Yatırımlar",icon:c.A},{href:"/kartlarim",label:"Kartlarım",icon:d.A},{href:"/budgets",label:"B\xfct\xe7eler",icon:m.A}],ee=async()=>{let e=X?Number(X.trim().replace(/\s/g,"").replace(/\./g,"").replace(",",".")):NaN;if(!isFinite(e))return;let s=new Date,t=s.getFullYear(),a=s.getMonth(),r=s.getDate(),l=Math.min(Math.max(1,E),28),n=r>=l?new Date(t,a,l):new Date(t,a-1,l),i=r>=l?new Date(t,a+1,l-1):new Date(t,a,l-1);i.setHours(23,59,59,999);let c=(R||[]).filter(e=>{let s=new Date(e.date);return s>=n&&s<=i}).reduce((e,s)=>e+("gelir"===s.type?s.amount:-s.amount),0),d=new Date(n);d.setMonth(d.getMonth()-1);let m=new Date(n);m.setDate(m.getDate()-1),m.setHours(23,59,59,999),R.filter(e=>{let s=new Date(e.date);return s>=d&&s<=m}).reduce((e,s)=>e+("gelir"===s.type?s.amount:-s.amount),0);let o=e-c,x=Math.abs(o)>1e-5?{id:crypto.randomUUID(),type:o>0?"gelir":"gider",amount:Math.abs(o),description:o>0?"Bakiye Eşitleme (Gelir)":"Bakiye Eşitleme (Gider)",category:"Eşitleme",date:new Date().toISOString().slice(0,10),createdAt:Date.now()}:null,h=null===p.auth||void 0===p.auth?void 0:p.auth.currentUser;if((null==h?void 0:h.uid)&&(0,g.T1)())x&&(await (0,g.addTransaction)(h.uid,x),await (0,g.z8)(h.uid,{message:"".concat(x.description," • ₺").concat(x.amount.toLocaleString("tr-TR")),type:"info",read:!1,timestamp:Date.now()}));else try{let e=(0,v.Ar)(),s=e.getItem("transactions"),t=(0,v.jD)(s,[]),a=[...x?[x]:[],...t];e.setItem("transactions",JSON.stringify(a)),P(a);try{window.dispatchEvent(new Event("transactions:changed"))}catch(e){}}catch(e){}W(!1),U("")};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("header",{className:"border-b border-border bg-card/80 backdrop-blur-sm sticky top-0 z-50",children:(0,a.jsx)("div",{className:"container mx-auto px-1 sm:px-4 py-1 sm:py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-1 overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-8 min-w-0 flex-shrink",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-3 min-w-0",children:[(0,a.jsx)("img",{src:"/logo.svg",alt:"CostikFinans",className:"h-6 w-6 sm:h-8 sm:w-8 flex-shrink-0"}),(0,a.jsx)("h1",{className:"text-sm sm:text-2xl font-bold text-foreground truncate",children:"CostikFinans"})]}),(0,a.jsx)("nav",{className:"hidden md:flex items-center space-x-6",children:Q.map(t=>(0,a.jsxs)(y.$,{variant:"ghost",onClick:()=>s.push(t.href),className:e===t.href?"text-primary font-medium":"text-muted-foreground hover:text-foreground",children:[(0,a.jsx)(t.icon,{className:"h-4 w-4 mr-2"}),t.label]},t.href))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 sm:gap-4 flex-shrink-0 overflow-hidden",children:[(0,a.jsxs)("div",{className:"hidden sm:flex items-center space-x-2 px-2 py-2 bg-primary/10 rounded-lg border border-primary/20",children:[(0,a.jsx)(o.A,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary"}),(0,a.jsxs)("span",{className:"text-xs sm:text-sm font-semibold text-foreground",children:["Bakiye: ",D.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})]}),(0,a.jsxs)(_.AM,{open:V,onOpenChange:W,children:[(0,a.jsx)(_.Wv,{asChild:!0,children:(0,a.jsx)(y.$,{size:"sm",variant:"outline",className:"h-6 sm:h-7 px-1 sm:px-2 text-[10px] sm:text-xs ml-1 sm:ml-2",children:"Eşitle"})}),(0,a.jsx)(_.hl,{align:"end",className:"w-72 space-y-3",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(q.J,{children:"Cebimdeki Ger\xe7ek Para (₺)"}),(0,a.jsx)(H.p,{value:X,onChange:e=>U(e.target.value),inputMode:"decimal",type:"text"}),(0,a.jsx)("p",{className:"text-[11px] text-muted-foreground",children:"Bu d\xf6nem bakiyesini bu tutara ayarlar; fark kadar Gelir/Gider (Eşitleme) ekler."}),(0,a.jsx)(y.$,{size:"sm",variant:"secondary",onClick:ee,children:"Eldeki Paraya Eşitle"})]})})]})]}),(0,a.jsx)("div",{className:"sm:hidden flex items-center",children:(0,a.jsxs)(_.AM,{open:V,onOpenChange:W,children:[(0,a.jsx)(_.Wv,{asChild:!0,children:(0,a.jsxs)(y.$,{size:"sm",variant:"outline",className:"h-6 px-1 text-[9px] bg-primary/10 border-primary/20",children:[(0,a.jsx)(o.A,{className:"h-2.5 w-2.5 mr-0.5 text-primary"}),D.toLocaleString("tr-TR",{minimumFractionDigits:0,maximumFractionDigits:0}),"₺"]})}),(0,a.jsx)(_.hl,{align:"end",className:"w-72 space-y-3",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(q.J,{children:"Cebimdeki Ger\xe7ek Para (₺)"}),(0,a.jsx)(H.p,{value:X,onChange:e=>U(e.target.value),inputMode:"decimal",type:"text"}),(0,a.jsx)("p",{className:"text-[11px] text-muted-foreground",children:"Bu d\xf6nem bakiyesini bu tutara ayarlar; fark kadar Gelir/Gider (Eşitleme) ekler."}),(0,a.jsx)(y.$,{size:"sm",variant:"secondary",onClick:ee,children:"Eldeki Paraya Eşitle"})]})})]})}),(0,a.jsx)(y.$,{variant:"ghost",size:"icon",onClick:()=>B(!0),className:"h-6 w-6 sm:h-10 sm:w-10 flex-shrink-0",title:"Notlar","data-mobile-button":"true",children:(0,a.jsx)(x.A,{className:"h-3 w-3 sm:h-5 sm:w-5"})}),(0,a.jsx)(y.$,{variant:"ghost",size:"icon",onClick:()=>{let e=new Date,s=[],t=e=>{let s=String(e||"").split("T")[0],t=/^([0-9]{4})-([0-9]{2})-([0-9]{2})$/.exec(s);if(!t)return null;let a=new Date(Number(t[1]),Number(t[2])-1,Number(t[3]));return isNaN(a.getTime())?null:a};for(let e of R){let a=t(e.date);a&&s.push({date:a,type:"gelir"===e.type?"income":"expense",description:"".concat(e.description," • ₺").concat(e.amount.toLocaleString("tr-TR")),amount:e.amount})}for(let a of Y){if("custom"===a.paymentType&&a.date){let e=t(a.date);e&&s.push({date:e,type:"payment",description:"".concat(a.name," • ₺").concat(a.amount.toLocaleString("tr-TR")),amount:a.amount})}if("fixed"===a.paymentType&&"number"==typeof a.paymentDay){let t=new Date(e.getFullYear(),e.getMonth(),Math.min(Math.max(1,a.paymentDay),28));s.push({date:t,type:"payment",description:"".concat(a.name," • ₺").concat(a.amount.toLocaleString("tr-TR")),amount:a.amount})}}for(let t of J){if(t.statementDate){let a=parseInt(String(t.statementDate).replace(/\D/g,""));if(!isNaN(a)){let r=new Date(e.getFullYear(),e.getMonth(),Math.min(Math.max(1,a),28));s.push({date:r,type:"card-statement",description:"".concat(t.nickname||t.bankName," Ekstre")})}}if(t.paymentDueDate){let a=parseInt(String(t.paymentDueDate).replace(/\D/g,""));if(!isNaN(a)){let r=new Date(e.getFullYear(),e.getMonth(),Math.min(Math.max(1,a),28));s.push({date:r,type:"card-due",description:"".concat(t.nickname||t.bankName," Son \xd6deme")})}}}O(s)},className:"h-6 w-6 sm:h-10 sm:w-10 flex-shrink-0",title:"Takvim","data-mobile-button":"true",children:(0,a.jsx)(h.A,{className:"h-3 w-3 sm:h-5 sm:w-5"})}),(0,a.jsx)("div",{className:"flex-shrink-0","data-mobile-button":"true",children:(0,a.jsx)(eN,{})}),(0,a.jsx)("div",{className:"flex-shrink-0","data-mobile-button":"true",children:(0,a.jsx)(eb,{})}),t?(0,a.jsxs)("div",{className:"flex items-center gap-0.5 sm:gap-2 flex-shrink-0","data-mobile-button":"true",children:[(0,a.jsxs)(N,{className:"h-6 w-6 sm:h-10 sm:w-10 border-2 border-primary/20",children:[(0,a.jsx)(w,{src:t.photoURL||"/placeholder-user.png"}),(0,a.jsx)(k,{className:"bg-primary text-primary-foreground",children:(0,a.jsx)(u.A,{className:"h-3 w-3 sm:h-5 sm:w-5"})})]}),(0,a.jsx)(y.$,{variant:"ghost",size:"icon",onClick:Z,title:"\xc7ıkış Yap",className:"h-6 w-6 sm:h-10 sm:w-10","data-mobile-button":"true",children:(0,a.jsx)(j.A,{className:"h-3 w-3 sm:h-5 sm:w-5"})})]}):(0,a.jsx)(y.$,{onClick:()=>s.push("/login"),size:"sm",className:"text-xs px-2 py-1 h-6","data-mobile-button":"true",children:"Giriş Yap"})]})]})})}),(0,a.jsx)(C.S,{open:M,onClose:()=>B(!1)}),(0,a.jsx)(I,{open:F,onClose:()=>G(!1)})]})}},21669:(e,s,t)=>{"use strict";t.d(s,{AM:()=>n,Wv:()=>i,hl:()=>c});var a=t(86286);t(50654);var r=t(5389),l=t(18821);function n(e){let{...s}=e;return(0,a.jsx)(r.bL,{"data-slot":"popover",...s})}function i(e){let{...s}=e;return(0,a.jsx)(r.l9,{"data-slot":"popover-trigger",...s})}function c(e){let{className:s,align:t="center",sideOffset:n=4,...i}=e;return(0,a.jsx)(r.ZL,{children:(0,a.jsx)(r.UC,{"data-slot":"popover-content",align:t,sideOffset:n,className:(0,l.cn)("bg-popover text-popover-foreground z-50 w-72 rounded-md border p-4 shadow-md outline-hidden",s),...i})})}},33983:(e,s,t)=>{"use strict";t.d(s,{default:()=>l});var a=t(86286),r=t(72548);function l(e){let{children:s}=e,t=(0,r.usePathname)();return(null==t?void 0:t.startsWith("/login"))?null:(0,a.jsx)(a.Fragment,{children:s})}},50681:(e,s,t)=>{"use strict";t.d(s,{MobileBottomNav:()=>f});var a=t(86286),r=t(72548),l=t(14419),n=t.n(l),i=t(69253),c=t(86157),d=t(57416),m=t(36883),o=t(36938),x=t(18821),h=t(71751),u=t(90689),j=t(69313);let p=[{href:"/",icon:i.A,label:"Ana Sayfa"},{href:"/odemeler",icon:c.A,label:"\xd6demeler"},{href:"/yatirimlar",icon:d.A,label:"Yatırımlar"},{href:"/kartlarim",icon:m.A,label:"Kartlar"},{href:"/budgets",icon:o.A,label:"B\xfct\xe7eler"}];function f(){let e=(0,r.usePathname)();return(0,a.jsx)(j.P.div,{className:"fixed bottom-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-lg border-t border-border/50 md:hidden",initial:{y:100},animate:{y:0},transition:{duration:.3,ease:"easeOut"},children:(0,a.jsxs)("div",{className:"flex items-center justify-between px-2 py-1",children:[(0,a.jsx)("div",{className:"flex items-center justify-around flex-1",children:p.map(s=>{let t=e===s.href,r=s.icon;return(0,a.jsx)(n(),{href:s.href,className:"flex-1",children:(0,a.jsxs)(j.P.div,{className:(0,x.cn)("flex flex-col items-center justify-center py-2 px-1 relative","transition-colors duration-200 rounded-lg",t?"text-primary":"text-muted-foreground hover:text-foreground"),whileTap:{scale:.95},whileHover:{scale:1.05},children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(r,{className:(0,x.cn)("h-4 w-4 transition-all duration-200",t&&"scale-110")}),s.badge&&(0,a.jsx)(h.E,{variant:"destructive",className:"absolute -top-2 -right-2 h-4 w-4 p-0 text-[10px] flex items-center justify-center",children:s.badge}),t&&(0,a.jsx)(j.P.div,{className:"absolute -bottom-3 left-1/2 w-1 h-1 bg-primary rounded-full",layoutId:"activeIndicator",initial:{scale:0},animate:{scale:1},style:{x:"-50%"}})]}),(0,a.jsx)("span",{className:(0,x.cn)("text-[10px] font-medium mt-1 leading-none",t?"text-primary":"text-muted-foreground"),children:s.label})]})},s.href)})}),(0,a.jsx)("div",{className:"flex items-center justify-center px-2",children:(0,a.jsx)(u.P,{page:(0,u.b)(e),size:"sm",variant:"ghost"})})]})})}},63787:(e,s,t)=>{"use strict";t.d(s,{default:()=>c});var a=t(86286),r=t(78320),l=t(40127);t(50654);var n=t(28895);function i(e){let{children:s,...t}=e;return(0,a.jsx)(n.N,{...t,children:s})}function c(e){let{children:s}=e;return(0,a.jsx)(i,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:(0,a.jsx)(l.OJ,{children:(0,a.jsx)(r.S,{children:s})})})}},73172:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,732,23)),Promise.resolve().then(t.bind(t,63787)),Promise.resolve().then(t.bind(t,33983)),Promise.resolve().then(t.bind(t,90370)),Promise.resolve().then(t.bind(t,10015)),Promise.resolve().then(t.bind(t,50681)),Promise.resolve().then(t.t.bind(t,26692,23))},77007:(e,s,t)=>{"use strict";t.d(s,{Fm:()=>o,Qs:()=>u,XW:()=>x,cj:()=>i,h:()=>m,qp:()=>h});var a=t(86286);t(50654);var r=t(66757),l=t(50161),n=t(18821);function i(e){let{...s}=e;return(0,a.jsx)(r.bL,{"data-slot":"sheet",...s})}function c(e){let{...s}=e;return(0,a.jsx)(r.ZL,{"data-slot":"sheet-portal",...s})}function d(e){let{className:s,...t}=e;return(0,a.jsx)(r.hJ,{"data-slot":"sheet-overlay",className:(0,n.cn)("fixed inset-0 z-50 bg-black/50",s),...t})}function m(e){let{className:s,children:t,side:i="right",...m}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(d,{}),(0,a.jsxs)(r.UC,{"data-slot":"sheet-content",className:(0,n.cn)("bg-background fixed z-50 flex flex-col gap-4 shadow-lg","right"===i&&"inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===i&&"inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===i&&"inset-x-0 top-0 h-auto border-b","bottom"===i&&"inset-x-0 bottom-0 h-auto border-t",s),...m,children:[t,(0,a.jsxs)(r.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,a.jsx)(l.A,{className:"size-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function o(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"sheet-header",className:(0,n.cn)("flex flex-col gap-1.5 p-4",s),...t})}function x(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"sheet-footer",className:(0,n.cn)("mt-auto flex flex-col gap-2 p-4",s),...t})}function h(e){let{className:s,...t}=e;return(0,a.jsx)(r.hE,{"data-slot":"sheet-title",className:(0,n.cn)("text-foreground font-semibold",s),...t})}function u(e){let{className:s,...t}=e;return(0,a.jsx)(r.VY,{"data-slot":"sheet-description",className:(0,n.cn)("text-muted-foreground text-sm",s),...t})}},90370:(e,s,t)=>{"use strict";t.d(s,{CalendarFloat:()=>I});var a=t(86286),r=t(50654),l=t(27484),n=t(37942),i=t(71751),c=t(49846),d=t(99426),m=t(6743),o=t(61498),x=t(30334),h=t(41188),u=t(77857),j=t(89857),p=t(48427),f=t(97036),g=t(50161),v=t(57416),y=t(69413),b=t(63418),N=t(96020),w=t(94653),k=t(51401),C=t(45692),A=t(24387),S=t(9634),D=t(2135),T=t(56374),E=t(40491),z=t(26295),M=t(37370),B=t(57806),F=t(31793),G=t(86083),R=t(21301),P=t(29491),Y=t(25914),$=t(18821),J=t(78320),L=t(2036),O=t(90689);function I(){let{isCalendarOpen:e,closeCalendar:s,highlightedDates:t,notificationsEnabled:I,addCalendarEvent:K,removeCalendarEvent:_}=(0,J._)(),{checkDailyCalendarEvents:H,checkPastCalendarEvents:q,createCalendarEventNotification:V}=(0,L.E$)(),[W,X]=(0,r.useState)(new Date),[U,Z]=(0,r.useState)(new Date),[Q,ee]=(0,r.useState)(new Date),[es,et]=(0,r.useState)({x:20,y:80}),[ea,er]=(0,r.useState)({w:320,h:500}),[el,en]=(0,r.useState)(!1),[ei,ec]=(0,r.useState)("month"),[ed,em]=(0,r.useState)("all"),[eo,ex]=(0,r.useState)(!1),[eh,eu]=(0,r.useState)(""),[ej,ep]=(0,r.useState)(""),[ef,eg]=(0,r.useState)("expense"),ev=(0,r.useRef)(null),ey=(0,r.useRef)(!1),eb=(0,r.useRef)({w:0,h:0,x:0,y:0,direction:""}),eN=(0,r.useRef)(!1),ew=(0,r.useRef)({x:0,y:0});(0,r.useEffect)(()=>{e&&I&&(H(t),q(t))},[e,I,t,H,q]);let ek=t.filter(e=>"all"===ed||("card"===ed?"card-statement"===e.type||"card-due"===e.type:e.type===ed)),eC=()=>{let e=(0,T.k)(Q,{weekStartsOn:1}),s=(0,E.$)(Q,{weekStartsOn:1});return(0,S.k)({start:e,end:s})},eA=()=>{let e=(0,T.k)(Q,{weekStartsOn:1}),s=(0,E.$)(Q,{weekStartsOn:1});return ek.filter(t=>{let a=new Date(t.date);return(0,z.v)(a,{start:e,end:s})})},eS=ek.reduce((e,s)=>{let t=new Date(s.date);return t.getMonth()===U.getMonth()&&t.getFullYear()===U.getFullYear()&&("income"===s.type?(e.totalIncome+="number"==typeof s.amount?s.amount:0,e.incomeCount++):(e.totalExpense+="number"==typeof s.amount?s.amount:0,e.expenseCount++)),e},{totalIncome:0,totalExpense:0,incomeCount:0,expenseCount:0}),eD=eS.totalIncome-eS.totalExpense;return((0,r.useEffect)(()=>{let t=t=>{if(e)switch(t.key){case"Escape":s();break;case"ArrowLeft":t.ctrlKey&&("week"===ei?ee((0,M.k)(Q,1)):Z((0,B.a)(U,1)),t.preventDefault());break;case"ArrowRight":t.ctrlKey&&("week"===ei?ee((0,F.J)(Q,1)):Z((0,G.P)(U,1)),t.preventDefault());break;case"Home":if(t.ctrlKey){let e=new Date;Z(e),ee(e),t.preventDefault()}break;case"1":t.ctrlKey&&(ec("month"),t.preventDefault());break;case"2":t.ctrlKey&&(ec("week"),t.preventDefault());break;case"3":t.ctrlKey&&(ec("list"),t.preventDefault())}};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[e,U,Q,ei,s]),(0,r.useEffect)(()=>{let e=e=>{if(eN.current)et({x:e.clientX-ew.current.x,y:e.clientY-ew.current.y});else if(ey.current){let s=e.clientX-eb.current.x,t=e.clientY-eb.current.y,a=eb.current.direction,r=eb.current.w,l=eb.current.h;switch(es.x,es.y,a){case"s":l=Math.max(200,eb.current.h+t);break;case"e":r=Math.max(300,eb.current.w+s);break;case"se":r=Math.max(300,eb.current.w+s),l=Math.max(200,eb.current.h+t)}er({w:r,h:l})}},s=()=>{eN.current=!1,ey.current=!1};return document.addEventListener("mousemove",e),document.addEventListener("mouseup",s),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",s)}},[]),e)?(0,a.jsx)("div",{className:"calendar-window fixed select-none z-50 max-w-[95vw] sm:max-w-none",style:{left:window.innerWidth<640?5:es.x,top:window.innerWidth<640?60:es.y,width:window.innerWidth<640?"calc(100vw - 10px)":ea.w,height:window.innerWidth<640?"calc(100vh - 140px)":ea.h},children:(0,a.jsxs)(l.Zp,{className:"border-border/60 bg-card/95 backdrop-blur relative h-full overflow-hidden",children:[(0,a.jsxs)("div",{ref:ev,onMouseDown:e=>{var s;if(ey.current)return;eN.current=!0;let t=null===(s=e.target.closest(".calendar-window"))||void 0===s?void 0:s.getBoundingClientRect();t&&(ew.current={x:e.clientX-t.left,y:e.clientY-t.top}),e.preventDefault()},className:"flex items-center justify-between cursor-grab active:cursor-grabbing px-1 sm:px-3 py-1 sm:py-2 border-b border-border/50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm font-semibold",children:[(0,a.jsx)(u.A,{className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"İşlem Takvimi"}),(0,a.jsx)("span",{className:"sm:hidden",children:"Takvim"}),(0,a.jsx)(i.E,{variant:"outline",className:"text-xs hidden sm:inline-flex",children:(0,R.GP)(U,"MMMM yyyy",{locale:Y.tr})}),(0,a.jsx)(i.E,{variant:"outline",className:"text-xs sm:hidden",children:(0,R.GP)(U,"MMM yy",{locale:Y.tr})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(O.P,{page:"calendar",size:"sm",className:"h-6 w-6"}),(0,a.jsx)(m.Bc,{children:(0,a.jsxs)(m.m_,{children:[(0,a.jsx)(m.k$,{asChild:!0,children:(0,a.jsx)(n.$,{size:"icon",variant:"ghost",className:"h-6 w-6",children:(0,a.jsx)(j.A,{className:"h-3 w-3"})})}),(0,a.jsx)(m.ZI,{side:"bottom",className:"text-xs",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{children:(0,a.jsx)("strong",{children:"Klavye Kısayolları:"})}),(0,a.jsx)("div",{children:"ESC: Kapat"}),(0,a.jsx)("div",{children:"Ctrl + ←/→: Ay/Hafta değiştir"}),(0,a.jsx)("div",{children:"Ctrl + Home: Bug\xfcn"}),(0,a.jsx)("div",{children:"Ctrl + 1: Ay g\xf6r\xfcn\xfcm\xfc"}),(0,a.jsx)("div",{children:"Ctrl + 2: Hafta g\xf6r\xfcn\xfcm\xfc"}),(0,a.jsx)("div",{children:"Ctrl + 3: Liste g\xf6r\xfcn\xfcm\xfc"})]})})]})}),(0,a.jsxs)(d.lG,{open:eo,onOpenChange:ex,children:[(0,a.jsx)(d.zM,{asChild:!0,children:(0,a.jsx)(n.$,{size:"icon",variant:"ghost",className:"h-6 w-6",children:(0,a.jsx)(p.A,{className:"h-3 w-3"})})}),(0,a.jsxs)(d.Cf,{children:[(0,a.jsx)(d.c7,{children:(0,a.jsx)(d.L3,{children:"Yeni Etkinlik Ekle"})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(h.J,{children:"Başlık"}),(0,a.jsx)(x.p,{value:eh,onChange:e=>eu(e.target.value),placeholder:"Etkinlik başlığı"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h.J,{children:"Miktar"}),(0,a.jsx)(x.p,{type:"number",value:ej,onChange:e=>ep(e.target.value),placeholder:"Miktar"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h.J,{children:"Tip"}),(0,a.jsxs)(o.l6,{value:ef,onValueChange:e=>eg(e),children:[(0,a.jsx)(o.bq,{children:(0,a.jsx)(o.yv,{})}),(0,a.jsxs)(o.gC,{children:[(0,a.jsx)(o.eb,{value:"income",children:"Gelir"}),(0,a.jsx)(o.eb,{value:"expense",children:"Gider"})]})]})]}),(0,a.jsx)(n.$,{onClick:()=>{eh.trim()&&W&&(K({date:W,type:ef,description:eh,title:eh,amount:ej?parseFloat(ej):void 0,category:ef}),eu(""),ep(""),eg("expense"),ex(!1))},className:"w-full",children:"Ekle"})]})]})]}),(0,a.jsx)(n.$,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>en(!el),children:(0,a.jsx)(f.A,{className:"h-3 w-3"})}),(0,a.jsx)(n.$,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:s,children:(0,a.jsx)(g.A,{className:"h-3 w-3"})})]})]}),!el&&(0,a.jsxs)("div",{className:"p-1 sm:p-4 h-full overflow-y-auto",children:[(0,a.jsx)("div",{className:"mb-2 sm:mb-4 p-2 sm:p-3 bg-muted/30 rounded-lg",children:(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2 sm:gap-4 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Gelir"}),(0,a.jsxs)("div",{className:"text-xs sm:text-sm font-medium text-green-600 flex items-center justify-center gap-1",children:[(0,a.jsx)(v.A,{className:"h-2 w-2 sm:h-3 sm:w-3"}),"₺",eS.totalIncome.toLocaleString("tr-TR")]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[eS.incomeCount," işlem"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Gider"}),(0,a.jsxs)("div",{className:"text-xs sm:text-sm font-medium text-red-600 flex items-center justify-center gap-1",children:[(0,a.jsx)(y.A,{className:"h-2 w-2 sm:h-3 sm:w-3"}),"₺",eS.totalExpense.toLocaleString("tr-TR")]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[eS.expenseCount," işlem"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Net"}),(0,a.jsxs)("div",{className:"text-xs sm:text-sm font-medium flex items-center justify-center gap-1 ".concat(eD>=0?"text-green-600":"text-red-600"),children:[(0,a.jsx)(b.A,{className:"h-2 w-2 sm:h-3 sm:w-3"}),"₺",eD.toLocaleString("tr-TR")]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:eD>=0?"K\xe2r":"Zarar"})]})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2 sm:mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,a.jsx)(n.$,{size:"sm",variant:"ghost",className:"h-6 w-6 sm:h-8 sm:w-8 p-0",onClick:()=>{"week"===ei?ee((0,M.k)(Q,1)):Z((0,B.a)(U,1))},children:(0,a.jsx)(N.A,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),(0,a.jsx)(n.$,{size:"sm",variant:"ghost",className:"h-6 w-6 sm:h-8 sm:w-8 p-0",onClick:()=>{"week"===ei?ee((0,F.J)(Q,1)):Z((0,G.P)(U,1))},children:(0,a.jsx)(w.A,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),(0,a.jsxs)(n.$,{size:"sm",variant:"outline",className:"h-6 sm:h-8 text-xs sm:text-sm px-2 sm:px-3",onClick:()=>{let e=new Date;Z(e),ee(e)},children:[(0,a.jsx)("span",{className:"hidden sm:inline",children:"Bug\xfcn"}),(0,a.jsx)("span",{className:"sm:hidden",children:"•"})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-1 sm:gap-2",children:(0,a.jsxs)(o.l6,{value:ed,onValueChange:e=>em(e),children:[(0,a.jsxs)(o.bq,{className:"w-20 sm:w-32 h-6 sm:h-8 text-xs",children:[(0,a.jsx)(k.A,{className:"h-2 w-2 sm:h-3 sm:w-3 mr-1"}),(0,a.jsx)(o.yv,{})]}),(0,a.jsxs)(o.gC,{children:[(0,a.jsx)(o.eb,{value:"all",children:"T\xfcm\xfc"}),(0,a.jsx)(o.eb,{value:"income",children:"Gelir"}),(0,a.jsx)(o.eb,{value:"expense",children:"Gider"}),(0,a.jsx)(o.eb,{value:"payment",children:"\xd6deme"}),(0,a.jsx)(o.eb,{value:"card",children:"Kart"})]})]})})]}),(0,a.jsxs)(c.tU,{value:ei,onValueChange:e=>ec(e),children:[(0,a.jsxs)(c.j7,{className:"grid w-full grid-cols-3 h-8 sm:h-10",children:[(0,a.jsx)(c.Xi,{value:"month",className:"text-xs sm:text-sm",children:"Ay"}),(0,a.jsx)(c.Xi,{value:"week",className:"text-xs sm:text-sm",children:"Hafta"}),(0,a.jsx)(c.Xi,{value:"list",className:"text-xs sm:text-sm",children:"Liste"})]}),(0,a.jsxs)(c.av,{value:"month",className:"mt-2 sm:mt-4",children:[(0,a.jsxs)("div",{className:"border rounded-lg p-1 sm:p-3",children:[(0,a.jsx)("div",{className:"grid grid-cols-7 gap-1 text-xs text-center mb-1 sm:mb-2",children:["Pzt","Sal","\xc7ar","Per","Cum","Cmt","Paz"].map(e=>(0,a.jsxs)("div",{className:"font-medium text-muted-foreground p-1",children:[(0,a.jsx)("span",{className:"hidden sm:inline",children:e}),(0,a.jsx)("span",{className:"sm:hidden",children:e.charAt(0)})]},e))}),(0,a.jsx)("div",{className:"grid grid-cols-7 gap-1",children:(()=>{let e=(0,C.w)(U),s=(0,A.p)(U),t=(0,S.k)({start:e,end:s}),a=(0,D.P)(e),r=0===a?6:a-1,l=[];for(let s=r;s>0;s--){let t=new Date(e);t.setDate(t.getDate()-s),l.push({date:t,isCurrentMonth:!1})}return t.forEach(e=>{l.push({date:e,isCurrentMonth:!0})}),l})().map((e,s)=>{let t=e.date,r=(0,P.r)(t,new Date),l=W&&(0,P.r)(t,W),i=ek.filter(e=>(0,P.r)(new Date(e.date),t)),c=i.some(e=>"income"===e.type),d=i.some(e=>"expense"===e.type),m=i.some(e=>"payment"===e.type),o=i.some(e=>"card-statement"===e.type||"card-due"===e.type);return(0,a.jsxs)(n.$,{variant:"ghost",size:"sm",className:(0,$.cn)("h-8 w-8 p-0 text-xs relative",!e.isCurrentMonth&&"text-muted-foreground/30",r&&"bg-primary text-primary-foreground",l&&"ring-2 ring-ring",i.length>0&&"font-semibold"),onClick:()=>X(t),children:[t.getDate(),(0,a.jsxs)("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 flex gap-0.5",children:[c&&(0,a.jsx)("div",{className:"w-1 h-1 bg-green-500 rounded-full"}),d&&(0,a.jsx)("div",{className:"w-1 h-1 bg-red-500 rounded-full"}),m&&(0,a.jsx)("div",{className:"w-1 h-1 bg-blue-500 rounded-full"}),o&&(0,a.jsx)("div",{className:"w-1 h-1 bg-purple-500 rounded-full"})]})]},s)})})]}),(0,a.jsxs)("div",{className:"mt-3 p-2 bg-muted/30 rounded text-xs",children:[(0,a.jsx)("div",{className:"font-medium mb-1",children:"Efsane:"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[(0,a.jsxs)("span",{className:"inline-flex items-center gap-1.5",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-500"})," Gelir"]}),(0,a.jsxs)("span",{className:"inline-flex items-center gap-1.5",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-red-500"})," Gider"]}),(0,a.jsxs)("span",{className:"inline-flex items-center gap-1.5",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-blue-500"})," \xd6deme"]}),(0,a.jsxs)("span",{className:"inline-flex items-center gap-1.5",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-purple-500"})," Kart İşlemi"]})]})]})]}),(0,a.jsxs)(c.av,{value:"week",className:"mt-4",children:[(0,a.jsx)("div",{className:"mb-4 text-center",children:(0,a.jsxs)("h3",{className:"text-sm font-medium",children:[(0,R.GP)((0,T.k)(Q,{weekStartsOn:1}),"dd MMM",{locale:Y.tr})," - "," ",(0,R.GP)((0,E.$)(Q,{weekStartsOn:1}),"dd MMM yyyy",{locale:Y.tr})]})}),(0,a.jsx)("div",{className:"border rounded-lg p-3",children:(0,a.jsx)("div",{className:"grid grid-cols-7 gap-2",children:["Pzt","Sal","\xc7ar","Per","Cum","Cmt","Paz"].map((e,s)=>{let t=eC()[s],r=(0,P.r)(t,new Date),l=W&&(0,P.r)(t,W),i=ek.filter(e=>(0,P.r)(new Date(e.date),t));return(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-xs font-medium text-muted-foreground mb-1",children:e}),(0,a.jsx)(n.$,{variant:"ghost",className:(0,$.cn)("w-full h-8 text-xs mb-2",r&&"bg-primary text-primary-foreground",l&&"ring-2 ring-ring"),onClick:()=>X(t),children:t.getDate()}),(0,a.jsx)("div",{className:"space-y-1 min-h-[120px]",children:i.map((e,s)=>{let r="border-gray-200 bg-gray-50 text-gray-700";return"income"===e.type?r="border-green-200 bg-green-50 text-green-700":"expense"===e.type?r="border-red-200 bg-red-50 text-red-700":"payment"===e.type?r="border-blue-200 bg-blue-50 text-blue-700":("card-statement"===e.type||"card-due"===e.type)&&(r="border-purple-200 bg-purple-50 text-purple-700"),(0,a.jsxs)("div",{className:(0,$.cn)("p-1 rounded text-xs border cursor-pointer hover:shadow-sm transition-shadow",r),onClick:()=>X(t),children:[(0,a.jsx)("div",{className:"font-medium truncate",children:e.description||"İşlem"}),"number"==typeof e.amount&&(0,a.jsxs)("div",{className:"font-semibold",children:["income"===e.type?"+":"","₺",e.amount.toLocaleString("tr-TR")]})]},s)})})]},s)})})}),(0,a.jsxs)("div",{className:"mt-4 p-3 bg-muted/30 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-sm mb-2",children:"Hafta \xd6zeti"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-4 text-center text-xs",children:(()=>{let e=eA().reduce((e,s)=>("income"===s.type?(e.income+="number"==typeof s.amount?s.amount:0,e.incomeCount++):(e.expense+="number"==typeof s.amount?s.amount:0,e.expenseCount++),e),{income:0,expense:0,incomeCount:0,expenseCount:0}),s=e.income-e.expense;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Gelir"}),(0,a.jsxs)("div",{className:"font-medium text-green-600",children:["₺",e.income.toLocaleString("tr-TR")]}),(0,a.jsxs)("div",{className:"text-muted-foreground",children:[e.incomeCount," işlem"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Gider"}),(0,a.jsxs)("div",{className:"font-medium text-red-600",children:["₺",e.expense.toLocaleString("tr-TR")]}),(0,a.jsxs)("div",{className:"text-muted-foreground",children:[e.expenseCount," işlem"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Net"}),(0,a.jsxs)("div",{className:"font-medium ".concat(s>=0?"text-green-600":"text-red-600"),children:["₺",s.toLocaleString("tr-TR")]}),(0,a.jsx)("div",{className:"text-muted-foreground",children:s>=0?"K\xe2r":"Zarar"})]})]})})()})]})]}),(0,a.jsx)(c.av,{value:"list",className:"mt-4",children:(0,a.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:ek.filter(e=>{let s=new Date(e.date);return s.getMonth()===U.getMonth()&&s.getFullYear()===U.getFullYear()}).sort((e,s)=>new Date(s.date).getTime()-new Date(e.date).getTime()).map((e,s)=>{let t="border-gray-200 bg-gray-50",r="outline",l="İşlem";return"income"===e.type?(t="border-green-200 bg-green-50",r="default",l="Gelir"):"expense"===e.type?(t="border-red-200 bg-red-50",r="destructive",l="Gider"):"payment"===e.type?(t="border-blue-200 bg-blue-50",r="secondary",l="\xd6deme"):"card-statement"===e.type?(t="border-purple-200 bg-purple-50",r="outline",l="Ekstre"):"card-due"===e.type&&(t="border-purple-200 bg-purple-50",r="outline",l="Son \xd6deme"),(0,a.jsxs)("div",{className:(0,$.cn)("p-2 rounded text-xs border cursor-pointer hover:bg-muted/50",t),onClick:()=>X(new Date(e.date)),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.E,{variant:r,className:"text-xs",children:l}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:(0,R.GP)(new Date(e.date),"dd MMM",{locale:Y.tr})})]}),"number"==typeof e.amount&&(0,a.jsxs)("span",{className:(0,$.cn)("font-semibold text-xs","income"===e.type?"text-green-600":"expense"===e.type?"text-red-600":"payment"===e.type?"text-blue-600":"text-purple-600"),children:["₺",e.amount.toLocaleString("tr-TR")]})]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:e.description||"İşlem"})]},s)})})})]}),W&&(0,a.jsxs)("div",{className:"mt-4 p-3 bg-muted/30 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-sm mb-2",children:(0,R.GP)(W,"dd MMMM yyyy, EEEE",{locale:Y.tr})}),(0,a.jsxs)("div",{className:"space-y-1 max-h-24 overflow-y-auto",children:[ek.filter(e=>(0,P.r)(new Date(e.date),W)).map((e,s)=>(0,a.jsxs)("div",{className:"p-2 bg-background rounded text-xs space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(i.E,{variant:"income"===e.type?"default":"expense"===e.type?"destructive":"payment"===e.type?"secondary":"outline",className:"text-xs",children:"income"===e.type?"Gelir":"expense"===e.type?"Gider":"payment"===e.type?"\xd6deme":"card-statement"===e.type?"Ekstre":"Son \xd6deme"}),"number"==typeof e.amount&&(0,a.jsxs)("span",{className:"font-medium",children:["₺",e.amount.toLocaleString("tr-TR")]})]}),(0,a.jsx)("div",{className:"text-muted-foreground",children:e.description||"İşlem"})]},s)),0===ek.filter(e=>(0,P.r)(new Date(e.date),W)).length&&(0,a.jsx)("div",{className:"text-xs text-muted-foreground text-center py-2",children:"Bu tarihte işlem bulunmuyor"})]})]})]}),(0,a.jsx)("div",{className:"absolute right-0 top-1 bottom-1 w-1 cursor-e-resize hover:bg-primary/20",onMouseDown:e=>{ey.current=!0,eb.current={w:ea.w,h:ea.h,x:e.clientX,y:e.clientY,direction:"e"},e.preventDefault()}}),(0,a.jsx)("div",{className:"absolute bottom-0 left-1 right-1 h-1 cursor-s-resize hover:bg-primary/20",onMouseDown:e=>{ey.current=!0,eb.current={w:ea.w,h:ea.h,x:e.clientX,y:e.clientY,direction:"s"},e.preventDefault()}}),(0,a.jsx)("div",{className:"absolute bottom-0 right-0 w-3 h-3 cursor-se-resize bg-muted/50 hover:bg-primary/50",onMouseDown:e=>{ey.current=!0,eb.current={w:ea.w,h:ea.h,x:e.clientX,y:e.clientY,direction:"se"},e.preventDefault()}})]})}):null}},90689:(e,s,t)=>{"use strict";t.d(s,{P:()=>m,b:()=>o});var a=t(86286),r=t(50654),l=t(91010),n=t(62686),i=t(37942),c=t(2036),d=t(18821);function m(e){let{page:s,className:t,size:m="md",variant:o="ghost"}=e,{isPageNotificationEnabled:x,updatePageNotificationSetting:h}=(0,c.E$)(),[u,j]=(0,r.useState)(!0);(0,r.useEffect)(()=>{j(x(s))},[s,x]);let p={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"};return(0,a.jsx)(i.$,{variant:o,size:"icon",onClick:()=>{let e=!u;j(e),h(s,e)},className:(0,d.cn)({sm:"h-6 w-6 p-1",md:"h-8 w-8 p-1.5",lg:"h-10 w-10 p-2"}[m],u?"text-blue-600 hover:text-blue-700":"text-gray-400 hover:text-gray-500",t),title:u?"Bildirimleri kapat":"Bildirimleri a\xe7",children:u?(0,a.jsx)(l.A,{className:p[m]}):(0,a.jsx)(n.A,{className:p[m]})})}function o(e){let s=e.split("/").filter(Boolean);return 0===s.length?"home":({budgets:"budgets",kartlarim:"kartlarim",odemeler:"odemeler",yatirimlar:"yatirimlar",notifications:"notifications"})[s[0]]||"home"}}},e=>{var s=s=>e(e.s=s);e.O(0,[3465,9081,8609,9696,1760,6788,6108,4419,9176,4885,5652,6739,8170,3957,8995,5722,8637,7358],()=>s(73172)),_N_E=e.O()}]);