(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6173],{32124:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});let s=(0,i(87342).A)("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]])},88660:(e,t,i)=>{Promise.resolve().then(i.bind(i,97372))},91010:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});let s=(0,i(87342).A)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},97372:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>f});var s=i(86286),a=i(50654),r=i(27484),l=i(37942),d=i(71751),n=i(91010),c=i(32124),u=i(32017),h=i(38170),o=i(40127),m=i(14419),x=i.n(m),j=i(18821);function f(){let[e,t]=(0,a.useState)([]);(0,a.useEffect)(()=>{let e=null===u.auth||void 0===u.auth?void 0:u.auth.currentUser;if(e){let i=(0,h.sd)(e.uid,e=>t(e));return(0,h.Rz)(e.uid).then(e=>e.length&&t(e)),()=>{i&&i()}}try{let e=localStorage.getItem("notifications");e?t((0,j.jD)(e,[])):t([])}catch(e){t([])}},[]),(0,a.useEffect)(()=>{if(!(null===u.auth||void 0===u.auth?void 0:u.auth.currentUser))try{localStorage.setItem("notifications",JSON.stringify(e))}catch(e){}},[e]);let i=(0,a.useMemo)(()=>e.filter(e=>!e.read).length,[e]),m=async()=>{let i=null===u.auth||void 0===u.auth?void 0:u.auth.currentUser;i&&await Promise.all(e.filter(e=>!e.read).map(e=>(0,h.Jj)(i.uid,e.id))),t(e=>e.map(e=>({...e,read:!0})))},f=async()=>{let e=null===u.auth||void 0===u.auth?void 0:u.auth.currentUser;e&&await (0,h.SP)(e.uid),t([])};return(0,s.jsx)(o.q_,{children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(x(),{href:"/",children:(0,s.jsx)(l.$,{variant:"outline",children:"Geri"})}),(0,s.jsx)(n.A,{className:"h-6 w-6 text-primary"}),(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Bildirimler"}),(0,s.jsxs)(d.E,{variant:"secondary",children:[i," okunmamış"]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(l.$,{variant:"outline",onClick:m,disabled:!i,children:[(0,s.jsx)(c.A,{className:"h-4 w-4 mr-2"})," Hepsini okundu işaretle"]}),(0,s.jsx)(l.$,{variant:"destructive",onClick:f,disabled:!e.length,children:"T\xfcm\xfcn\xfc temizle"})]})]}),(0,s.jsxs)(r.Zp,{children:[(0,s.jsxs)(r.aR,{children:[(0,s.jsx)(r.ZB,{children:"Son Bildirimler"}),(0,s.jsx)(r.BT,{children:"Uygulama tarafından oluşturulan uyarılar ve bilgilendirmeler"})]}),(0,s.jsx)(r.Wu,{children:e.length?(0,s.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,s.jsx)("div",{className:"p-4 rounded-lg border border-border/50 bg-card/50",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"font-semibold text-foreground",children:e.title}),!e.read&&(0,s.jsx)(d.E,{children:"Yeni"})]}),e.description&&(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:e.description}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:new Date(e.date).toLocaleString("tr-TR")})]}),!e.read&&(0,s.jsx)(l.$,{size:"sm",variant:"outline",onClick:async()=>{let i=null===u.auth||void 0===u.auth?void 0:u.auth.currentUser;i&&await (0,h.Jj)(i.uid,e.id),t(t=>t.map(t=>t.id===e.id?{...t,read:!0}:t))},children:"Okundu"})]})},e.id))}):(0,s.jsx)("div",{className:"text-center py-16 text-muted-foreground",children:"Bildirim bulunmuyor"})})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[8609,9696,1760,6788,4419,6739,8170,5722,8637,7358],()=>t(88660)),_N_E=e.O()}]);